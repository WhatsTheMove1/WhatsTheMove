(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function sv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Qf={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function iA(){if(Iy)return Kl;Iy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var Vy;function rA(){return Vy||(Vy=1,Qf.exports=iA()),Qf.exports}var ft=rA(),Kf={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function aA(){if(Ny)return bt;Ny=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,K={};function j(V,J,ut){this.props=V,this.context=J,this.refs=K,this.updater=ut||N}j.prototype.isReactComponent={},j.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},j.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function X(){}X.prototype=j.prototype;function et(V,J,ut){this.props=V,this.context=J,this.refs=K,this.updater=ut||N}var tt=et.prototype=new X;tt.constructor=et,z(tt,j.prototype),tt.isPureReactComponent=!0;var vt=Array.isArray,ct={H:null,A:null,T:null,S:null},Rt=Object.prototype.hasOwnProperty;function x(V,J,ut,rt,at,wt){return ut=wt.ref,{$$typeof:r,type:V,key:J,ref:ut!==void 0?ut:null,props:wt}}function R(V,J){return x(V.type,J,void 0,void 0,void 0,V.props)}function S(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ut){return J[ut]})}var M=/\/+/g;function k(V,J){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):J.toString(36)}function D(){}function ye(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(D,D):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function he(V,J,ut,rt,at){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(wt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case r:case e:St=!0;break;case T:return St=V._init,he(St(V._payload),J,ut,rt,at)}}if(St)return at=at(V),St=rt===""?"."+k(V,0):rt,vt(at)?(ut="",St!=null&&(ut=St.replace(M,"$&/")+"/"),he(at,J,ut,"",function(ie){return ie})):at!=null&&(S(at)&&(at=R(at,ut+(at.key==null||V&&V.key===at.key?"":(""+at.key).replace(M,"$&/")+"/")+St)),J.push(at)),1;St=0;var fe=rt===""?".":rt+":";if(vt(V))for(var kt=0;kt<V.length;kt++)rt=V[kt],wt=fe+k(rt,kt),St+=he(rt,J,ut,wt,at);else if(kt=C(V),typeof kt=="function")for(V=kt.call(V),kt=0;!(rt=V.next()).done;)rt=rt.value,wt=fe+k(rt,kt++),St+=he(rt,J,ut,wt,at);else if(wt==="object"){if(typeof V.then=="function")return he(ye(V),J,ut,rt,at);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return St}function it(V,J,ut){if(V==null)return V;var rt=[],at=0;return he(V,rt,"","",function(wt){return J.call(ut,wt,at++)}),rt}function yt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ut){(V._status===0||V._status===-1)&&(V._status=1,V._result=ut)},function(ut){(V._status===0||V._status===-1)&&(V._status=2,V._result=ut)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return bt.Children={map:it,forEach:function(V,J,ut){it(V,function(){J.apply(this,arguments)},ut)},count:function(V){var J=0;return it(V,function(){J++}),J},toArray:function(V){return it(V,function(J){return J})||[]},only:function(V){if(!S(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},bt.Component=j,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cloneElement=function(V,J,ut){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=z({},V.props),at=V.key,wt=void 0;if(J!=null)for(St in J.ref!==void 0&&(wt=void 0),J.key!==void 0&&(at=""+J.key),J)!Rt.call(J,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&J.ref===void 0||(rt[St]=J[St]);var St=arguments.length-2;if(St===1)rt.children=ut;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];rt.children=fe}return x(V.type,at,void 0,void 0,wt,rt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},bt.createElement=function(V,J,ut){var rt,at={},wt=null;if(J!=null)for(rt in J.key!==void 0&&(wt=""+J.key),J)Rt.call(J,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(at[rt]=J[rt]);var St=arguments.length-2;if(St===1)at.children=ut;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];at.children=fe}if(V&&V.defaultProps)for(rt in St=V.defaultProps,St)at[rt]===void 0&&(at[rt]=St[rt]);return x(V,wt,void 0,void 0,null,at)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:m,render:V}},bt.isValidElement=S,bt.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:yt}},bt.memo=function(V,J){return{$$typeof:y,type:V,compare:J===void 0?null:J}},bt.startTransition=function(V){var J=ct.T,ut={};ct.T=ut;try{var rt=V(),at=ct.S;at!==null&&at(ut,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,mt)}catch(wt){mt(wt)}finally{ct.T=J}},bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},bt.use=function(V){return ct.H.use(V)},bt.useActionState=function(V,J,ut){return ct.H.useActionState(V,J,ut)},bt.useCallback=function(V,J){return ct.H.useCallback(V,J)},bt.useContext=function(V){return ct.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,J){return ct.H.useDeferredValue(V,J)},bt.useEffect=function(V,J){return ct.H.useEffect(V,J)},bt.useId=function(){return ct.H.useId()},bt.useImperativeHandle=function(V,J,ut){return ct.H.useImperativeHandle(V,J,ut)},bt.useInsertionEffect=function(V,J){return ct.H.useInsertionEffect(V,J)},bt.useLayoutEffect=function(V,J){return ct.H.useLayoutEffect(V,J)},bt.useMemo=function(V,J){return ct.H.useMemo(V,J)},bt.useOptimistic=function(V,J){return ct.H.useOptimistic(V,J)},bt.useReducer=function(V,J,ut){return ct.H.useReducer(V,J,ut)},bt.useRef=function(V){return ct.H.useRef(V)},bt.useState=function(V){return ct.H.useState(V)},bt.useSyncExternalStore=function(V,J,ut){return ct.H.useSyncExternalStore(V,J,ut)},bt.useTransition=function(){return ct.H.useTransition()},bt.version="19.0.0",bt}var Oy;function Ud(){return Oy||(Oy=1,Kf.exports=aA()),Kf.exports}var Q=Ud();const sA=sv(Q);var Yf={exports:{}},Yl={},$f={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function lA(){return My||(My=1,function(r){function e(it,yt){var mt=it.length;it.push(yt);t:for(;0<mt;){var jt=mt-1>>>1,V=it[jt];if(0<o(V,yt))it[jt]=yt,it[mt]=V,mt=jt;else break t}}function i(it){return it.length===0?null:it[0]}function s(it){if(it.length===0)return null;var yt=it[0],mt=it.pop();if(mt!==yt){it[0]=mt;t:for(var jt=0,V=it.length,J=V>>>1;jt<J;){var ut=2*(jt+1)-1,rt=it[ut],at=ut+1,wt=it[at];if(0>o(rt,mt))at<V&&0>o(wt,rt)?(it[jt]=wt,it[at]=mt,jt=at):(it[jt]=rt,it[ut]=mt,jt=ut);else if(at<V&&0>o(wt,mt))it[jt]=wt,it[at]=mt,jt=at;else break t}}return yt}function o(it,yt){var mt=it.sortIndex-yt.sortIndex;return mt!==0?mt:it.id-yt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],T=1,b=null,C=3,N=!1,z=!1,K=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function tt(it){for(var yt=i(y);yt!==null;){if(yt.callback===null)s(y);else if(yt.startTime<=it)s(y),yt.sortIndex=yt.expirationTime,e(p,yt);else break;yt=i(y)}}function vt(it){if(K=!1,tt(it),!z)if(i(p)!==null)z=!0,ye();else{var yt=i(y);yt!==null&&he(vt,yt.startTime-it)}}var ct=!1,Rt=-1,x=5,R=-1;function S(){return!(r.unstable_now()-R<x)}function I(){if(ct){var it=r.unstable_now();R=it;var yt=!0;try{t:{z=!1,K&&(K=!1,X(Rt),Rt=-1),N=!0;var mt=C;try{e:{for(tt(it),b=i(p);b!==null&&!(b.expirationTime>it&&S());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,C=b.priorityLevel;var V=jt(b.expirationTime<=it);if(it=r.unstable_now(),typeof V=="function"){b.callback=V,tt(it),yt=!0;break e}b===i(p)&&s(p),tt(it)}else s(p);b=i(p)}if(b!==null)yt=!0;else{var J=i(y);J!==null&&he(vt,J.startTime-it),yt=!1}}break t}finally{b=null,C=mt,N=!1}yt=void 0}}finally{yt?M():ct=!1}}}var M;if(typeof et=="function")M=function(){et(I)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,D=k.port2;k.port1.onmessage=I,M=function(){D.postMessage(null)}}else M=function(){j(I,0)};function ye(){ct||(ct=!0,M())}function he(it,yt){Rt=j(function(){it(r.unstable_now())},yt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(it){it.callback=null},r.unstable_continueExecution=function(){z||N||(z=!0,ye())},r.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<it?Math.floor(1e3/it):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(it){switch(C){case 1:case 2:case 3:var yt=3;break;default:yt=C}var mt=C;C=yt;try{return it()}finally{C=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(it,yt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var mt=C;C=it;try{return yt()}finally{C=mt}},r.unstable_scheduleCallback=function(it,yt,mt){var jt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?jt+mt:jt):mt=jt,it){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,it={id:T++,callback:yt,priorityLevel:it,startTime:mt,expirationTime:V,sortIndex:-1},mt>jt?(it.sortIndex=mt,e(y,it),i(p)===null&&it===i(y)&&(K?(X(Rt),Rt=-1):K=!0,he(vt,mt-jt))):(it.sortIndex=V,e(p,it),z||N||(z=!0,ye())),it},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(it){var yt=C;return function(){var mt=C;C=yt;try{return it.apply(this,arguments)}finally{C=mt}}}}(Xf)),Xf}var xy;function oA(){return xy||(xy=1,$f.exports=lA()),$f.exports}var Zf={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function uA(){if(Uy)return Fe;Uy=1;var r=Ud();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Fe.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:N}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Ly;function cA(){if(Ly)return Zf.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zf.exports=uA(),Zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function hA(){if(Py)return Yl;Py=1;var r=oA(),e=Ud(),i=cA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),tt=Symbol.for("react.offscreen"),vt=Symbol.for("react.memo_cache_sentinel"),ct=Symbol.iterator;function Rt(t){return t===null||typeof t!="object"?null:(t=ct&&t[ct]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case et:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,k;function D(t){if(M===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);M=n&&n[1]||"",k=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+k}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var w=v.split(`
`),U=E.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===U.length)for(l=w.length-1,h=U.length-1;1<=l&&0<=h&&w[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==U[h]){var G=`
`+w[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function it(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function yt(t){try{var n="";do n+=it(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function jt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function V(t){if(mt(t)!==t)throw Error(s(188))}function J(t){var n=t.alternate;if(!n){if(n=mt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return V(h),t;if(f===l)return V(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=f;break}if(E===l){v=!0,l=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=h;break}if(E===l){v=!0,l=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var rt=Array.isArray,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function kt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Gt(t,n){fe++,St[fe]=t.current,t.current=n}var Ye=kt(null),fi=kt(null),pn=kt(null),Gi=kt(null);function Qi(t,n){switch(Gt(pn,n),Gt(fi,t),Gt(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ry(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ry(t),n=ay(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function di(){ie(Ye),ie(fi),ie(pn)}function js(t){t.memoizedState!==null&&Gt(Gi,t);var n=Ye.current,a=ay(n,t.type);n!==a&&(Gt(fi,t),Gt(Ye,a))}function Ma(t){fi.current===t&&(ie(Ye),ie(fi)),Gi.current===t&&(ie(Gi),jl._currentValue=wt)}var xa=Object.prototype.hasOwnProperty,Gr=r.unstable_scheduleCallback,Ua=r.unstable_cancelCallback,Kc=r.unstable_shouldYield,Hs=r.unstable_requestPaint,tn=r.unstable_now,Ao=r.unstable_getCurrentPriorityLevel,_e=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,mi=r.unstable_NormalPriority,So=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,Yc=r.log,Qr=r.unstable_setDisableYieldValue,Ki=null,je=null;function Gs(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ki,t,void 0,(t.current.flags&128)===128)}catch{}}function Bn(t){if(typeof Yc=="function"&&Qr(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ki,t)}catch{}}var $e=Math.clz32?Math.clz32:wo,Qs=Math.log,bo=Math.LN2;function wo(t){return t>>>=0,t===0?32:31-(Qs(t)/bo|0)|0}var qn=128,Yi=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,f=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?l=xn(a):(f&=E,f!==0?l=xn(f):t||(v=E&~v,v!==0&&(l=xn(v))))):(E=a&~h,E!==0?l=xn(E):f!==0?l=xn(f):t||(v=a&~v,v!==0&&(l=xn(v)))),l===0?0:n!==0&&n!==l&&!(n&h)&&(h=l&-l,v=n&-n,h>=v||h===32&&(v&4194176)!==0)?n:l}function $i(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function La(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ks(){var t=qn;return qn<<=1,!(qn&4194176)&&(qn=128),t}function Xi(){var t=Yi;return Yi<<=1,!(Yi&62914560)&&(Yi=4194304),t}function Pa(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,w=t.expirationTimes,U=t.hiddenUpdates;for(a=v&~a;0<a;){var G=31-$e(a),Z=1<<G;E[G]=0,w[G]=-1;var q=U[G];if(q!==null)for(U[G]=null,G=0;G<q.length;G++){var F=q[G];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Zi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Zi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Wi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Co(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Do(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:Sy(t.type))}function Ji(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var jn=Math.random().toString(36).slice(2),De="__reactFiber$"+jn,ve="__reactProps$"+jn,gi="__reactContainer$"+jn,Kr="__reactEvents$"+jn,ka="__reactListeners$"+jn,Hn="__reactHandles$"+jn,Ys="__reactResources$"+jn,tr="__reactMarker$"+jn;function Yr(t){delete t[De],delete t[ve],delete t[Kr],delete t[ka],delete t[Hn]}function Un(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[gi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=oy(t);t!==null;){if(a=t[De])return a;t=oy(t)}return n}t=a,a=t.parentNode}return null}function pi(t){if(t=t[De]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function er(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function nr(t){var n=t[Ys];return n||(n=t[Ys]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Wt(t){t[tr]=!0}var $s=new Set,za={};function ln(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(za[t]=n,t=0;t<n.length;t++)$s.add(n[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xs={},Zs={};function Io(t){return xa.call(Zs,t)?!0:xa.call(Xs,t)?!1:$c.test(t)?Zs[t]=!0:(Xs[t]=!0,!1)}function ir(t,n,a){if(Io(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function rr(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function _n(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xc(t){var n=Vo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function $r(t){t._valueTracker||(t._valueTracker=Xc(t))}function Ws(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Vo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var yi=/[\n"\\]/g;function re(t){return t.replace(yi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ar(t,n,a,l,h,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?qa(t,v,Xe(n)):a!=null?qa(t,v,Xe(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Xe(E):t.removeAttribute("name")}function Xr(t,n,a,l,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function qa(t,n,a){n==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zt(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Zr(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function sr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Js(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Zc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function No(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Js(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Js(t,f,n[f])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fn(t){return Jc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var En=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _i=null,vi=null;function Ei(t){var n=pi(t);if(n&&(t=n.stateNode)){var a=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ve]||null;if(!h)throw Error(s(90));ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ws(l)}break t;case"textarea":Zr(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(t,!!a.multiple,n,!1)}}}var el=!1;function Oo(t,n,a){if(el)return t(n,a);el=!0;try{var l=t(n);return l}finally{if(el=!1,(_i!==null||vi!==null)&&(Su(),_i&&(n=_i,t=vi,vi=_i=null,Ei(n),t)))for(n=0;n<t.length;n++)Ei(t[n])}}function Wr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Tn=!1;if(on)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Tn=!1}var Gn=null,lr=null,Ti=null;function nl(){if(Ti)return Ti;var t,n=lr,a=n.length,l,h="value"in Gn?Gn.value:Gn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function il(){return!1}function Ie(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:il,this.isPropagationStopped=il,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=Ie(Ht),ta=I({},Ht,{view:0,detail:0}),Mo=Ie(ta),Fa,Ga,Yn,ea=I({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yn&&(Yn&&t.type==="mousemove"?(Fa=t.screenX-Yn.screenX,Ga=t.screenY-Yn.screenY):Ga=Fa=0,Yn=t),Fa)},movementY:function(t){return"movementY"in t?t.movementY:Ga}}),An=Ie(ea),xo=I({},ea,{dataTransfer:0}),th=Ie(xo),na=I({},ta,{relatedTarget:0}),Qa=Ie(na),rl=I({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Ka=Ie(rl),Uo=I({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ya=Ie(Uo),eh=I({},Ht,{data:0}),al=Ie(eh),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Po={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Po[t])?!!n[t]:!1}function ra(){return sl}var ko=I({},ta,{key:function(t){if(t.key){var n=ia[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$a=Ie(ko),zo=I({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ie(zo),Ai=I({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Bo=Ie(Ai),qo=I({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),jo=Ie(qo),Ho=I({},ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xa=Ie(Ho),Ze=I({},Ht,{newState:0,oldState:0}),Fo=Ie(Ze),Go=[9,13,27,32],$n=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var g=on&&"TextEvent"in window&&!u,_=on&&(!$n||u&&8<u&&11>=u),A=" ",P=!1;function H(t,n){switch(t){case"keyup":return Go.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return nt(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return t=n.data,t===A&&P?null:t;default:return null}}function xt(t,n){if(Mt)return t==="compositionend"||!$n&&H(t,n)?(t=nl(),Ti=lr=Gn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Si(t,n,a,l){_i?vi?vi.push(l):vi=[l]:_i=l,n=Du(n,"onChange"),0<n.length&&(a=new Ha("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Xn=null;function ol(t){Jp(t,0)}function Qo(t){var n=er(t);if(Ws(n))return t}function Dm(t,n){if(t==="change")return n}var Im=!1;if(on){var nh;if(on){var ih="oninput"in document;if(!ih){var Vm=document.createElement("div");Vm.setAttribute("oninput","return;"),ih=typeof Vm.oninput=="function"}nh=ih}else nh=!1;Im=nh&&(!document.documentMode||9<document.documentMode)}function Nm(){Ue&&(Ue.detachEvent("onpropertychange",Om),Xn=Ue=null)}function Om(t){if(t.propertyName==="value"&&Qo(Xn)){var n=[];Si(n,Xn,t,ja(t)),Oo(ol,n)}}function M0(t,n,a){t==="focusin"?(Nm(),Ue=n,Xn=a,Ue.attachEvent("onpropertychange",Om)):t==="focusout"&&Nm()}function x0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qo(Xn)}function U0(t,n){if(t==="click")return Qo(n)}function L0(t,n){if(t==="input"||t==="change")return Qo(n)}function P0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:P0;function ul(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xa.call(n,h)||!un(t[h],n[h]))return!1}return!0}function Mm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xm(t,n){var a=Mm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mm(a)}}function Um(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Um(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ba(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ba(t.document)}return n}function rh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function k0(t,n){var a=Lm(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Um(n.ownerDocument.documentElement,n)){if(l!==null&&rh(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,f=Math.min(l.start,h);l=l.end===void 0?f:Math.min(l.end,h),!a.extend&&f>l&&(h=l,l=f,f=h),h=xm(n,f);var v=xm(n,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var z0=on&&"documentMode"in document&&11>=document.documentMode,Za=null,ah=null,cl=null,sh=!1;function Pm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sh||Za==null||Za!==Ba(l)||(l=Za,"selectionStart"in l&&rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Du(ah,"onSelect"),0<l.length&&(n=new Ha("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Za)))}function aa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Wa={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},lh={},km={};on&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete Wa.animationend.animation,delete Wa.animationiteration.animation,delete Wa.animationstart.animation),"TransitionEvent"in window||delete Wa.transitionend.transition);function sa(t){if(lh[t])return lh[t];if(!Wa[t])return t;var n=Wa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in km)return lh[t]=n[a];return t}var zm=sa("animationend"),Bm=sa("animationiteration"),qm=sa("animationstart"),B0=sa("transitionrun"),q0=sa("transitionstart"),j0=sa("transitioncancel"),jm=sa("transitionend"),Hm=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,n){Hm.set(t,n),ln(n,[t])}var Sn=[],Ja=0,oh=0;function Ko(){for(var t=Ja,n=oh=Ja=0;n<t;){var a=Sn[n];Sn[n++]=null;var l=Sn[n];Sn[n++]=null;var h=Sn[n];Sn[n++]=null;var f=Sn[n];if(Sn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Gm(a,h,f)}}function Yo(t,n,a,l){Sn[Ja++]=t,Sn[Ja++]=n,Sn[Ja++]=a,Sn[Ja++]=l,oh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uh(t,n,a,l){return Yo(t,n,a,l),$o(t)}function or(t,n){return Yo(t,null,null,n),$o(t)}function Gm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;h&&n!==null&&t.tag===3&&(f=t.stateNode,h=31-$e(a),f=f.hiddenUpdates,t=f[h],t===null?f[h]=[n]:t.push(n),n.lane=a|536870912)}function $o(t){if(50<Ul)throw Ul=0,pf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ts={},Qm=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var a=Qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:yt(n)},Qm.set(t,n),n)}return{value:t,source:n,stack:yt(n)}}var es=[],ns=0,Xo=null,Zo=0,wn=[],Rn=0,la=null,bi=1,wi="";function oa(t,n){es[ns++]=Zo,es[ns++]=Xo,Xo=t,Zo=n}function Km(t,n,a){wn[Rn++]=bi,wn[Rn++]=wi,wn[Rn++]=la,la=t;var l=bi;t=wi;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var f=32-$e(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,bi=1<<32-$e(n)+h|a<<h|l,wi=f+t}else bi=1<<f|a<<h|l,wi=t}function ch(t){t.return!==null&&(oa(t,1),Km(t,1,0))}function hh(t){for(;t===Xo;)Xo=es[--ns],es[ns]=null,Zo=es[--ns],es[ns]=null;for(;t===la;)la=wn[--Rn],wn[Rn]=null,wi=wn[--Rn],wn[Rn]=null,bi=wn[--Rn],wn[Rn]=null}var We=null,Le=null,Bt=!1,Pn=null,Zn=!1,fh=Error(s(519));function ua(t){var n=Error(s(418,""));throw dl(bn(n,t)),fh}function Ym(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[ve]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Nt(Pl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),$r(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),sr(n,l.value,l.defaultValue,l.children),$r(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||iy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Iu),n=!0):n=!1,n||ua(t)}function $m(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:Zn=!0;return;case 5:case 13:Zn=!1;return;default:We=We.return}}function hl(t){if(t!==We)return!1;if(!Bt)return $m(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&ua(t),$m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?zn(t.stateNode.nextSibling):null;return!0}function fl(){Le=We=null,Bt=!1}function dl(t){Pn===null?Pn=[t]:Pn.push(t)}var ml=Error(s(460)),Xm=Error(s(474)),dh={then:function(){}};function Zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wo(){}function Wm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Wo,Wo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ml?Error(s(483)):t;default:if(typeof n.status=="string")n.then(Wo,Wo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===ml?Error(s(483)):t}throw gl=n,ml}}var gl=null;function Jm(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}var is=null,pl=0;function Jo(t){var n=pl;return pl+=1,is===null&&(is=[]),Wm(is,t,n)}function yl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function tu(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tg(t){var n=t._init;return n(t._payload)}function eg(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Er(L,O),L.index=0,L.sibling=null,L}function f(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=33554434,O):B):(L.flags|=33554434,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function E(L,O,B,Y){return O===null||O.tag!==6?(O=of(B,L.mode,Y),O.return=L,O):(O=h(O,B),O.return=L,O)}function w(L,O,B,Y){var lt=B.type;return lt===p?G(L,O,B.props.children,Y,B.key):O!==null&&(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===et&&tg(lt)===O.type)?(O=h(O,B.props),yl(O,B),O.return=L,O):(O=_u(B.type,B.key,B.props,null,L.mode,Y),yl(O,B),O.return=L,O)}function U(L,O,B,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=uf(B,L.mode,Y),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function G(L,O,B,Y,lt){return O===null||O.tag!==7?(O=va(B,L.mode,Y,lt),O.return=L,O):(O=h(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=of(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case d:return B=_u(O.type,O.key,O.props,null,L.mode,B),yl(B,O),B.return=L,B;case m:return O=uf(O,L.mode,B),O.return=L,O;case et:var Y=O._init;return O=Y(O._payload),Z(L,O,B)}if(rt(O)||Rt(O))return O=va(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Jo(O),B);if(O.$$typeof===N)return Z(L,gu(L,O),B);tu(L,O)}return null}function q(L,O,B,Y){var lt=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return lt!==null?null:E(L,O,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===lt?w(L,O,B,Y):null;case m:return B.key===lt?U(L,O,B,Y):null;case et:return lt=B._init,B=lt(B._payload),q(L,O,B,Y)}if(rt(B)||Rt(B))return lt!==null?null:G(L,O,B,Y,null);if(typeof B.then=="function")return q(L,O,Jo(B),Y);if(B.$$typeof===N)return q(L,O,gu(L,B),Y);tu(L,B)}return null}function F(L,O,B,Y,lt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(B)||null,E(O,L,""+Y,lt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case d:return L=L.get(Y.key===null?B:Y.key)||null,w(O,L,Y,lt);case m:return L=L.get(Y.key===null?B:Y.key)||null,U(O,L,Y,lt);case et:var Dt=Y._init;return Y=Dt(Y._payload),F(L,O,B,Y,lt)}if(rt(Y)||Rt(Y))return L=L.get(B)||null,G(O,L,Y,lt,null);if(typeof Y.then=="function")return F(L,O,B,Jo(Y),lt);if(Y.$$typeof===N)return F(L,O,B,gu(O,Y),lt);tu(O,Y)}return null}function ot(L,O,B,Y){for(var lt=null,Dt=null,ht=O,pt=O=0,Me=null;ht!==null&&pt<B.length;pt++){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var qt=q(L,ht,B[pt],Y);if(qt===null){ht===null&&(ht=Me);break}t&&ht&&qt.alternate===null&&n(L,ht),O=f(qt,O,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt,ht=Me}if(pt===B.length)return a(L,ht),Bt&&oa(L,pt),lt;if(ht===null){for(;pt<B.length;pt++)ht=Z(L,B[pt],Y),ht!==null&&(O=f(ht,O,pt),Dt===null?lt=ht:Dt.sibling=ht,Dt=ht);return Bt&&oa(L,pt),lt}for(ht=l(ht);pt<B.length;pt++)Me=F(ht,L,pt,B[pt],Y),Me!==null&&(t&&Me.alternate!==null&&ht.delete(Me.key===null?pt:Me.key),O=f(Me,O,pt),Dt===null?lt=Me:Dt.sibling=Me,Dt=Me);return t&&ht.forEach(function(Cr){return n(L,Cr)}),Bt&&oa(L,pt),lt}function Tt(L,O,B,Y){if(B==null)throw Error(s(151));for(var lt=null,Dt=null,ht=O,pt=O=0,Me=null,qt=B.next();ht!==null&&!qt.done;pt++,qt=B.next()){ht.index>pt?(Me=ht,ht=null):Me=ht.sibling;var Cr=q(L,ht,qt.value,Y);if(Cr===null){ht===null&&(ht=Me);break}t&&ht&&Cr.alternate===null&&n(L,ht),O=f(Cr,O,pt),Dt===null?lt=Cr:Dt.sibling=Cr,Dt=Cr,ht=Me}if(qt.done)return a(L,ht),Bt&&oa(L,pt),lt;if(ht===null){for(;!qt.done;pt++,qt=B.next())qt=Z(L,qt.value,Y),qt!==null&&(O=f(qt,O,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt);return Bt&&oa(L,pt),lt}for(ht=l(ht);!qt.done;pt++,qt=B.next())qt=F(ht,L,pt,qt.value,Y),qt!==null&&(t&&qt.alternate!==null&&ht.delete(qt.key===null?pt:qt.key),O=f(qt,O,pt),Dt===null?lt=qt:Dt.sibling=qt,Dt=qt);return t&&ht.forEach(function(nA){return n(L,nA)}),Bt&&oa(L,pt),lt}function le(L,O,B,Y){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var lt=B.key;O!==null;){if(O.key===lt){if(lt=B.type,lt===p){if(O.tag===7){a(L,O.sibling),Y=h(O,B.props.children),Y.return=L,L=Y;break t}}else if(O.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===et&&tg(lt)===O.type){a(L,O.sibling),Y=h(O,B.props),yl(Y,B),Y.return=L,L=Y;break t}a(L,O);break}else n(L,O);O=O.sibling}B.type===p?(Y=va(B.props.children,L.mode,Y,B.key),Y.return=L,L=Y):(Y=_u(B.type,B.key,B.props,null,L.mode,Y),yl(Y,B),Y.return=L,L=Y)}return v(L);case m:t:{for(lt=B.key;O!==null;){if(O.key===lt)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),Y=h(O,B.children||[]),Y.return=L,L=Y;break t}else{a(L,O);break}else n(L,O);O=O.sibling}Y=uf(B,L.mode,Y),Y.return=L,L=Y}return v(L);case et:return lt=B._init,B=lt(B._payload),le(L,O,B,Y)}if(rt(B))return ot(L,O,B,Y);if(Rt(B)){if(lt=Rt(B),typeof lt!="function")throw Error(s(150));return B=lt.call(B),Tt(L,O,B,Y)}if(typeof B.then=="function")return le(L,O,Jo(B),Y);if(B.$$typeof===N)return le(L,O,gu(L,B),Y);tu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),Y=h(O,B),Y.return=L,L=Y):(a(L,O),Y=of(B,L.mode,Y),Y.return=L,L=Y),v(L)):a(L,O)}return function(L,O,B,Y){try{pl=0;var lt=le(L,O,B,Y);return is=null,lt}catch(ht){if(ht===ml)throw ht;var Dt=Vn(29,ht,null,L.mode);return Dt.lanes=Y,Dt.return=L,Dt}finally{}}}var ca=eg(!0),ng=eg(!1),rs=kt(null),eu=kt(0);function ig(t,n){t=Li,Gt(eu,t),Gt(rs,n),Li=t|n.baseLanes}function mh(){Gt(eu,Li),Gt(rs,rs.current)}function gh(){Li=eu.current,ie(rs),ie(eu)}var Cn=kt(null),Wn=null;function ur(t){var n=t.alternate;Gt(Ae,Ae.current&1),Gt(Cn,t),Wn===null&&(n===null||rs.current!==null||n.memoizedState!==null)&&(Wn=t)}function rg(t){if(t.tag===22){if(Gt(Ae,Ae.current),Gt(Cn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else cr()}function cr(){Gt(Ae,Ae.current),Gt(Cn,Cn.current)}function Ri(t){ie(Cn),Wn===t&&(Wn=null),ie(Ae)}var Ae=kt(0);function nu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var H0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},F0=r.unstable_scheduleCallback,G0=r.unstable_NormalPriority,Se={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ph(){return{controller:new H0,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&F0(G0,function(){t.controller.abort()})}var vl=null,yh=0,as=0,ss=null;function Q0(t,n){if(vl===null){var a=vl=[];yh=0,as=bf(),ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return yh++,n.then(ag,ag),n}function ag(){if(--yh===0&&vl!==null){ss!==null&&(ss.status="fulfilled");var t=vl;vl=null,as=0,ss=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var sg=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Q0(t,n),sg!==null&&sg(t,n)};var ha=kt(null);function _h(){var t=ha.current;return t!==null?t:$t.pooledCache}function iu(t,n){n===null?Gt(ha,ha.current):Gt(ha,n.pool)}function lg(){var t=_h();return t===null?null:{parent:Se._currentValue,pool:t}}var hr=0,Ct=null,Qt=null,de=null,ru=!1,ls=!1,fa=!1,au=0,El=0,os=null,Y0=0;function ue(){throw Error(s(321))}function vh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function Eh(t,n,a,l,h,f){return hr=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?da:fr,fa=!1,f=a(l,h),fa=!1,ls&&(f=ug(n,a,l,h)),og(t),f}function og(t){S.H=Jn;var n=Qt!==null&&Qt.next!==null;if(hr=0,de=Qt=Ct=null,ru=!1,El=0,os=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&mu(t)&&(Ne=!0))}function ug(t,n,a,l){Ct=t;var h=0;do{if(ls&&(os=null),El=0,ls=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ma,f=n(a,l)}while(ls);return f}function $0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Th(){var t=au!==0;return au=0,t}function Ah(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Sh(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}hr=0,de=Qt=Ct=null,ls=!1,El=au=0,os=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var su;su=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Tl(t){var n=El;return El+=1,os===null&&(os=[]),t=Wm(os,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?da:fr),t}function lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===N)return He(t)}throw Error(s(438,String(t)))}function bh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=su(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=vt;return n.index++,a}function Ci(t,n){return typeof n=="function"?n(t):n}function ou(t){var n=me();return wh(n,Qt,t)}function wh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=v=null,w=null,U=n,G=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(Ut&Z)===Z:(hr&Z)===Z){var q=U.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===as&&(G=!0);else if((hr&q)===q){U=U.next,q===as&&(G=!0);continue}else Z={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=Z,v=f):w=w.next=Z,Ct.lanes|=q,Tr|=q;Z=U.action,fa&&a(f,Z),f=U.hasEagerState?U.eagerState:a(f,Z)}else q={lane:Z,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(E=w=q,v=f):w=w.next=q,Ct.lanes|=Z,Tr|=Z;U=U.next}while(U!==null&&U!==n);if(w===null?v=f:w.next=E,!un(f,t.memoizedState)&&(Ne=!0,G&&(a=ss,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);un(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function cg(t,n,a){var l=Ct,h=me(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!un((Qt||h).memoizedState,a);if(v&&(h.memoizedState=a,Ne=!0),h=h.queue,Ih(dg.bind(null,l,h,t),[t]),h.getSnapshot!==n||v||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,us(9,fg.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));f||hr&60||hg(l,n,a)}return a}function hg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=su(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function fg(t,n,a,l){n.value=a,n.getSnapshot=l,mg(n)&&gg(t)}function dg(t,n,a){return a(function(){mg(n)&&gg(t)})}function mg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function gg(t){var n=or(t,2);n!==null&&Je(n,t,2)}function Ch(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),fa){Bn(!0);try{a()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function pg(t,n,a,l){return t.baseState=a,wh(t,Qt,typeof l=="function"?l:Ci)}function X0(t,n,a,l,h){if(hu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,yg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function yg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=S.T,v={};S.T=v;try{var E=a(h,l),w=S.S;w!==null&&w(v,E),_g(t,n,E)}catch(U){Dh(t,n,U)}finally{S.T=f}}else try{f=a(h,l),_g(t,n,f)}catch(U){Dh(t,n,U)}}function _g(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vg(t,n,l)},function(l){return Dh(t,n,l)}):vg(t,n,a)}function vg(t,n,a){n.status="fulfilled",n.value=a,Eg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,yg(t,a)))}function Dh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Eg(n),n=n.next;while(n!==l)}t.action=null}function Eg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Tg(t,n){return n}function Ag(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,f=Zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Le=zn(h.nextSibling),l=h.data==="F!";break t}}ua(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:n},a.queue=l,a=Bg.bind(null,Ct,l),l.dispatch=a,l=Ch(!1),f=xh.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=X0.bind(null,Ct,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Sg(t){var n=me();return bg(n,Qt,t)}function bg(t,n,a){n=wh(t,n,Tg)[0],t=ou(Ci)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Tl(n):n;var l=me(),h=l.queue,f=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,us(9,Z0.bind(null,h,a),{destroy:void 0},null)),[n,f,t]}function Z0(t,n){t.action=n}function wg(t){var n=me(),a=Qt;if(a!==null)return bg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function us(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=su(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Rg(){return me().memoizedState}function uu(t,n,a,l){var h=nn();Ct.flags|=t,h.memoizedState=us(1|n,a,{destroy:void 0},l===void 0?null:l)}function cu(t,n,a,l){var h=me();l=l===void 0?null:l;var f=h.memoizedState.inst;Qt!==null&&l!==null&&vh(l,Qt.memoizedState.deps)?h.memoizedState=us(n,a,f,l):(Ct.flags|=t,h.memoizedState=us(1|n,a,f,l))}function Cg(t,n){uu(8390656,8,t,n)}function Ih(t,n){cu(2048,8,t,n)}function Dg(t,n){return cu(4,2,t,n)}function Ig(t,n){return cu(4,4,t,n)}function Vg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ng(t,n,a){a=a!=null?a.concat([t]):null,cu(4,4,Vg.bind(null,n,t),a)}function Vh(){}function Og(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&vh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Mg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&vh(n,l[1]))return l[0];if(l=t(),fa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l}function Nh(t,n,a){return a===void 0||hr&1073741824?t.memoizedState=n:(t.memoizedState=a,t=Up(),Ct.lanes|=t,Tr|=t,a)}function xg(t,n,a,l){return un(a,n)?a:rs.current!==null?(t=Nh(t,a,l),un(t,n)||(Ne=!0),t):hr&42?(t=Up(),Ct.lanes|=t,Tr|=t,n):(Ne=!0,t.memoizedState=a)}function Ug(t,n,a,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=S.T,E={};S.T=E,xh(t,!1,n,a);try{var w=h(),U=S.S;if(U!==null&&U(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=K0(w,l);Al(t,n,G,dn(t))}else Al(t,n,l,dn(t))}catch(Z){Al(t,n,{then:function(){},status:"rejected",reason:Z},dn())}finally{at.p=f,S.T=v}}function W0(){}function Oh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Lg(t).queue;Ug(t,h,n,wt,a===null?W0:function(){return Pg(t),a(l)})}function Lg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:wt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pg(t){var n=Lg(t).next.queue;Al(t,n,{},dn())}function Mh(){return He(jl)}function kg(){return me().memoizedState}function zg(){return me().memoizedState}function J0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();t=gr(a);var l=pr(n,t,a);l!==null&&(Je(l,n,a),wl(l,n,a)),n={cache:ph()},t.payload=n;return}n=n.return}}function tT(t,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hu(t)?qg(n,a):(a=uh(t,n,a,l),a!==null&&(Je(a,t,l),jg(a,n,l)))}function Bg(t,n,a){var l=dn();Al(t,n,a,l)}function Al(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hu(t))qg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Yo(t,n,h,0),$t===null&&Ko(),!1}catch{}finally{}if(a=uh(t,n,h,l),a!==null)return Je(a,t,l),jg(a,n,l),!0}return!1}function xh(t,n,a,l){if(l={lane:2,revertLane:bf(),action:l,hasEagerState:!1,eagerState:null,next:null},hu(t)){if(n)throw Error(s(479))}else n=uh(t,a,l,2),n!==null&&Je(n,t,2)}function hu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function qg(t,n){ls=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function jg(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Wi(t,a)}}var Jn={readContext:He,use:lu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};Jn.useCacheRefresh=ue,Jn.useMemoCache=ue,Jn.useHostTransitionStatus=ue,Jn.useFormState=ue,Jn.useActionState=ue,Jn.useOptimistic=ue;var da={readContext:He,use:lu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Cg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uu(4194308,4,Vg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(fa){Bn(!0);try{t()}finally{Bn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(fa){Bn(!0);try{a(n)}finally{Bn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=tT.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ch(t);var n=t.queue,a=Bg.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Vh,useDeferredValue:function(t,n){var a=nn();return Nh(a,t,n)},useTransition:function(){var t=Ch(!1);return t=Ug.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));Ut&60||hg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Cg(dg.bind(null,l,f,t),[t]),l.flags|=2048,us(9,fg.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=nn(),n=$t.identifierPrefix;if(Bt){var a=wi,l=bi;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=au++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Y0++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=J0.bind(null,Ct)}};da.useMemoCache=bh,da.useHostTransitionStatus=Mh,da.useFormState=Ag,da.useActionState=Ag,da.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=xh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var fr={readContext:He,use:lu,useCallback:Og,useContext:He,useEffect:Ih,useImperativeHandle:Ng,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Mg,useReducer:ou,useRef:Rg,useState:function(){return ou(Ci)},useDebugValue:Vh,useDeferredValue:function(t,n){var a=me();return xg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=ou(Ci)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:cg,useId:kg};fr.useCacheRefresh=zg,fr.useMemoCache=bh,fr.useHostTransitionStatus=Mh,fr.useFormState=Sg,fr.useActionState=Sg,fr.useOptimistic=function(t,n){var a=me();return pg(a,Qt,t,n)};var ma={readContext:He,use:lu,useCallback:Og,useContext:He,useEffect:Ih,useImperativeHandle:Ng,useInsertionEffect:Dg,useLayoutEffect:Ig,useMemo:Mg,useReducer:Rh,useRef:Rg,useState:function(){return Rh(Ci)},useDebugValue:Vh,useDeferredValue:function(t,n){var a=me();return Qt===null?Nh(a,t,n):xg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Rh(Ci)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:cg,useId:kg};ma.useCacheRefresh=zg,ma.useMemoCache=bh,ma.useHostTransitionStatus=Mh,ma.useFormState=wg,ma.useActionState=wg,ma.useOptimistic=function(t,n){var a=me();return Qt!==null?pg(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Uh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:I({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Lh={isMounted:function(t){return(t=t._reactInternals)?mt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=dn(),h=gr(l);h.payload=n,a!=null&&(h.callback=a),n=pr(t,h,l),n!==null&&(Je(n,t,l),wl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=dn(),h=gr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=pr(t,h,l),n!==null&&(Je(n,t,l),wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=dn(),l=gr(a);l.tag=2,n!=null&&(l.callback=n),n=pr(t,l,a),n!==null&&(Je(n,t,a),wl(n,t,a))}};function Hg(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ul(a,l)||!ul(h,f):!0}function Fg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Lh.enqueueReplaceState(n,n.state,null)}function ga(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gg(t){fu(t)}function Qg(t){console.error(t)}function Kg(t){fu(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Yg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ph(t,n,a){return a=gr(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function $g(t){return t=gr(t),t.tag=3,t}function Xg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Yg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Yg(n,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function eT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&bl(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return Wn===null?vf():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===dh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Tf(t,l,h)),!1;case 22:return a.flags|=65536,l===dh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Tf(t,l,h)),!1}throw Error(s(435,a.tag))}return Tf(t,l,h),vf(),!1}if(Bt)return n=Cn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==fh&&(t=Error(s(422),{cause:l}),dl(bn(t,a)))):(l!==fh&&(n=Error(s(423),{cause:l}),dl(bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Ph(t.stateNode,l,h),Wh(t,h),se!==4&&(se=2)),!1;var f=Error(s(520),{cause:l});if(f=bn(f,a),Ml===null?Ml=[f]:Ml.push(f),se!==4&&(se=2),n===null)return!0;l=bn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Ph(a.stateNode,l,t),Wh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ar===null||!Ar.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=$g(h),Xg(h,t,a,l),Wh(a,h),!1}a=a.return}while(a!==null);return!1}var Zg=Error(s(461)),Ne=!1;function Pe(t,n,a,l){n.child=t===null?ng(n,null,a,l):ca(n,t.child,a,l)}function Wg(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ya(n),l=Eh(t,n,a,v,f,h),E=Th(),t!==null&&!Ne?(Ah(t,n,h),Di(t,n,h)):(Bt&&E&&ch(n),n.flags|=1,Pe(t,n,l,h),n.child)}function Jg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,tp(t,n,f,l,h)):(t=_u(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Qh(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(v,l)&&t.ref===n.ref)return Di(t,n,h)}return n.flags|=1,t=Er(f,l),t.ref=n.ref,t.return=n,n.child=t}function tp(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Qh(t,h))t.flags&131072&&(Ne=!0);else return n.lanes=t.lanes,Di(t,n,h)}return kh(t,n,a,l,h)}function ep(t,n,a){var l=n.pendingProps,h=l.children,f=(n.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(Sl(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return np(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&iu(n,v!==null?v.cachePool:null),v!==null?ig(n,v):mh(),rg(n);else return n.lanes=n.childLanes=536870912,np(t,n,v!==null?v.baseLanes|a:a,a)}else v!==null?(iu(n,v.cachePool),ig(n,v),cr(),n.memoizedState=null):(t!==null&&iu(n,null),mh(),cr());return Pe(t,n,h,a),n.child}function np(t,n,a,l){var h=_h();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&iu(n,null),mh(),rg(n),t!==null&&bl(t,n,l,!0),null}function Sl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function kh(t,n,a,l,h){return ya(n),a=Eh(t,n,a,l,void 0,h),l=Th(),t!==null&&!Ne?(Ah(t,n,h),Di(t,n,h)):(Bt&&l&&ch(n),n.flags|=1,Pe(t,n,a,h),n.child)}function ip(t,n,a,l,h,f){return ya(n),n.updateQueue=null,a=ug(n,l,a,h),og(t),l=Th(),t!==null&&!Ne?(Ah(t,n,f),Di(t,n,f)):(Bt&&l&&ch(n),n.flags|=1,Pe(t,n,a,f),n.child)}function rp(t,n,a,l,h){if(ya(n),n.stateNode===null){var f=ts,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Xh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):ts,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Uh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Lh.enqueueReplaceState(f,f.state,null),Cl(n,l,f,h),Rl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,w=ga(a,E);f.props=w;var U=f.context,G=a.contextType;v=ts,typeof G=="object"&&G!==null&&(v=He(G));var Z=a.getDerivedStateFromProps;G=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==v)&&Fg(n,f,l,v),mr=!1;var q=n.memoizedState;f.state=q,Cl(n,l,f,h),Rl(),U=n.memoizedState,E||q!==U||mr?(typeof Z=="function"&&(Uh(n,a,Z,l),U=n.memoizedState),(w=mr||Hg(n,a,w,l,q,U,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Zh(t,n),v=n.memoizedProps,G=ga(a,v),f.props=G,Z=n.pendingProps,q=f.context,U=a.contextType,w=ts,typeof U=="object"&&U!==null&&(w=He(U)),E=a.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||q!==w)&&Fg(n,f,l,w),mr=!1,q=n.memoizedState,f.state=q,Cl(n,l,f,h),Rl();var F=n.memoizedState;v!==Z||q!==F||mr||t!==null&&t.dependencies!==null&&mu(t.dependencies)?(typeof E=="function"&&(Uh(n,a,E,l),F=n.memoizedState),(G=mr||Hg(n,a,G,l,q,F,w)||t!==null&&t.dependencies!==null&&mu(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=w,l=G):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Sl(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ca(n,t.child,null,h),n.child=ca(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Di(t,n,h),t}function ap(t,n,a,l){return fl(),n.flags|=256,Pe(t,n,a,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0};function Bh(t){return{baseLanes:t,cachePool:lg()}}function qh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function sp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?ur(n):cr(),Bt){var E=Le,w;if(w=E){t:{for(w=E,E=Zn;w.nodeType!==8;){if(!E){E=null;break t}if(w=zn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:la!==null?{id:bi,overflow:wi}:null,retryLane:536870912},w=Vn(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,We=n,Le=null,w=!0):w=!1}w||ua(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,h?(cr(),h=n.mode,E=Hh({mode:"hidden",children:E},h),l=va(l,h,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=Bh(a),h.childLanes=qh(t,v,a),n.memoizedState=zh,l):(ur(n),jh(n,E))}if(w=t.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(ur(n),n.flags&=-257,n=Fh(t,n,a)):n.memoizedState!==null?(cr(),n.child=t.child,n.flags|=128,n=null):(cr(),h=l.fallback,E=n.mode,l=Hh({mode:"visible",children:l.children},E),h=va(h,E,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ca(n,t.child,null,a),l=n.child,l.memoizedState=Bh(a),l.childLanes=qh(t,v,a),n.memoizedState=zh,n=h);else if(ur(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var U=v.dgst;v=U,l=Error(s(419)),l.stack="",l.digest=v,dl({value:l,source:null,stack:null}),n=Fh(t,n,a)}else if(Ne||bl(t,n,a,!1),v=(a&t.childLanes)!==0,Ne||v){if(v=$t,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,or(t,l),Je(v,t,l),Zg}E.data==="$?"||vf(),n=Fh(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=pT.bind(null,t),E._reactRetry=n,n=null):(t=w.treeContext,Le=zn(E.nextSibling),We=n,Bt=!0,Pn=null,Zn=!1,t!==null&&(wn[Rn++]=bi,wn[Rn++]=wi,wn[Rn++]=la,bi=t.id,wi=t.overflow,la=n),n=jh(n,l.children),n.flags|=4096);return n}return h?(cr(),h=l.fallback,E=n.mode,w=t.child,U=w.sibling,l=Er(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,U!==null?h=Er(U,h):(h=va(h,E,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=Bh(a):(w=E.cachePool,w!==null?(U=Se._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=lg(),E={baseLanes:E.baseLanes|a,cachePool:w}),h.memoizedState=E,h.childLanes=qh(t,v,a),n.memoizedState=zh,l):(ur(n),a=t.child,t=a.sibling,a=Er(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function jh(t,n){return n=Hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Hh(t,n){return Op(t,n,0,null)}function Fh(t,n,a){return ca(n,t.child,null,a),t=jh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function lp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Yh(t.return,n,a)}function Gh(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function op(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Pe(t,n,l.children,a),l=Ae.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lp(t,a,n);else if(t.tag===19)lp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&nu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Gh(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&nu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gh(n,!0,a,null,f);break;case"together":Gh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Di(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Tr|=n.lanes,!(a&n.childLanes))if(t!==null){if(bl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Er(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Er(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Qh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&mu(t)))}function nT(t,n,a){switch(n.tag){case 3:Qi(n,n.stateNode.containerInfo),dr(n,Se,t.memoizedState.cache),fl();break;case 27:case 5:js(n);break;case 4:Qi(n,n.stateNode.containerInfo);break;case 10:dr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(n),n.flags|=128,null):a&n.child.childLanes?sp(t,n,a):(ur(n),t=Di(t,n,a),t!==null?t.sibling:null);ur(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(bl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return op(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,ep(t,n,a);case 24:dr(n,Se,t.memoizedState.cache)}return Di(t,n,a)}function up(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Qh(t,a)&&!(n.flags&128))return Ne=!1,nT(t,n,a);Ne=!!(t.flags&131072)}else Ne=!1,Bt&&n.flags&1048576&&Km(n,Zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")lf(l)?(t=ga(l,t),n.tag=1,n=rp(null,n,l,t,a)):(n.tag=0,n=kh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===z){n.tag=11,n=Wg(null,n,l,t,a);break t}else if(h===X){n.tag=14,n=Jg(null,n,l,t,a);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ga(l,n.pendingProps),rp(t,n,l,h,a);case 3:t:{if(Qi(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var f=n.pendingProps;h=n.memoizedState,l=h.element,Zh(t,n),Cl(n,f,null,a);var v=n.memoizedState;if(f=v.cache,dr(n,Se,f),f!==h.cache&&$h(n,[Se],a,!0),Rl(),f=v.element,h.isDehydrated)if(h={element:f,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ap(t,n,f,a);break t}else if(f!==l){l=bn(Error(s(424)),n),dl(l),n=ap(t,n,f,a);break t}else for(Le=zn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,Pn=null,Zn=!0,a=ng(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(fl(),f===l){n=Di(t,n,a);break t}Pe(t,n,f,a)}n=n.child}return n;case 26:return Sl(t,n),t===null?(a=fy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Vu(pn.current).createElement(a),l[De]=n,l[ve]=t,ke(l,a,t),Wt(l),n.stateNode=l):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return js(n),t===null&&Bt&&(l=n.stateNode=uy(n.type,n.pendingProps,pn.current),We=n,Zn=!0,Le=zn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,a):n.child=ca(n,null,l,a),Sl(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=OT(l,n.type,n.pendingProps,Zn),l!==null?(n.stateNode=l,We=n,Le=zn(l.firstChild),Zn=!1,h=!0):h=!1),h||ua(n)),js(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Mf(h,f)?l=null:v!==null&&Mf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Eh(t,n,$0,null,null,a),jl._currentValue=h),Sl(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=MT(a,n.pendingProps,Zn),a!==null?(n.stateNode=a,We=n,Le=null,t=!0):t=!1),t||ua(n)),null;case 13:return sp(t,n,a);case 4:return Qi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ca(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Wg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,dr(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,ya(n),h=He(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Jg(t,n,n.type,n.pendingProps,a);case 15:return tp(t,n,n.type,n.pendingProps,a);case 19:return op(t,n,a);case 22:return ep(t,n,a);case 24:return ya(n),l=He(Se),t===null?(h=_h(),h===null&&(h=$t,f=ph(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Xh(n),dr(n,Se,h)):(t.lanes&a&&(Zh(t,n),Cl(n,null,null,a),Rl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),dr(n,Se,l)):(l=f.cache,dr(n,Se,l),l!==h.cache&&$h(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var Kh=kt(null),pa=null,Ii=null;function dr(t,n,a){Gt(Kh,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=Kh.current,ie(Kh)}function Yh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $h(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Yh(f.return,a,t),l||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Yh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function bl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if(h.flags&524288)f=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Gi.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&$h(n,t,a,l),n.flags|=262144}function mu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){pa=t,Ii=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return cp(pa,t)}function gu(t,n){return pa===null&&ya(t),cp(t,n)}function cp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ii===null){if(t===null)throw Error(s(308));Ii=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ii=Ii.next=n;return a}var mr=!1;function Xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,te&2){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=$o(t),Gm(t,null,a),n}return Yo(t,l,n,a),$o(t)}function wl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Wi(t,a)}}function Wh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Jh=!1;function Rl(){if(Jh){var t=ss;if(t!==null)throw t}}function Cl(t,n,a,l){Jh=!1;var h=t.updateQueue;mr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,U=w.next;w.next=null,v===null?f=U:v.next=U,v=w;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==v&&(E===null?G.firstBaseUpdate=U:E.next=U,G.lastBaseUpdate=w))}if(f!==null){var Z=h.baseState;v=0,G=U=w=null,E=f;do{var q=E.lane&-536870913,F=q!==E.lane;if(F?(Ut&q)===q:(l&q)===q){q!==0&&q===as&&(Jh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,Tt=E;q=n;var le=a;switch(Tt.tag){case 1:if(ot=Tt.payload,typeof ot=="function"){Z=ot.call(le,Z,q);break t}Z=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Tt.payload,q=typeof ot=="function"?ot.call(le,Z,q):ot,q==null)break t;Z=I({},Z,q);break t;case 2:mr=!0}}q=E.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(U=G=F,w=Z):G=G.next=F,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=U,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Tr|=v,t.lanes=v,t.memoizedState=Z}}function hp(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function fp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)hp(a[t],n)}function Dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Yt(n,n.return,E)}}function yr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=n;var w=a;try{E()}catch(U){Yt(h,w,U)}}}l=l.next}while(l!==f)}}catch(U){Yt(n,n.return,U)}}function dp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{fp(n,a)}catch(l){Yt(t,t.return,l)}}}function mp(t,n,a){a.props=ga(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function _a(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(f){Yt(t,n,f)}}function cn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function gp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function pp(t,n,a){try{var l=t.stateNode;CT(l,t.type,a,n),l[ve]=n}catch(h){Yt(t,t.return,h)}}function yp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function tf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ef(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Iu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ef(t,n,a),t=t.sibling;t!==null;)ef(t,n,a),t=t.sibling}function pu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(pu(t,n,a),t=t.sibling;t!==null;)pu(t,n,a),t=t.sibling}var Ni=!1,ae=!1,nf=!1,_p=typeof WeakSet=="function"?WeakSet:Set,Oe=null,vp=!1;function iT(t,n){if(t=t.containerInfo,Nf=Lu,t=Lm(t),rh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,w=-1,U=0,G=0,Z=t,q=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=v+h),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break e;if(q===a&&++U===h&&(E=v),q===f&&++G===l&&(w=v),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}a=E===-1||w===-1?null:{start:E,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Of={focusedElem:t,selectionRange:a},Lu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ot=ga(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return ot=vp,vp=!1,ot}function Ep(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(t,a),l&4&&Dl(5,a);break;case 1:if(Mi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var h=ga(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&dp(a),l&512&&_a(a,a.return);break;case 3:if(Mi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{fp(l,t)}catch(E){Yt(a,a.return,E)}}break;case 26:Mi(t,a),l&512&&_a(a,a.return);break;case 27:case 5:Mi(t,a),n===null&&l&4&&gp(a),l&512&&_a(a,a.return);break;case 12:Mi(t,a);break;case 13:Mi(t,a),l&4&&Sp(t,a);break;case 22:if(h=a.memoizedState!==null||Ni,!h){n=n!==null&&n.memoizedState!==null||ae;var f=Ni,v=ae;Ni=h,(ae=n)&&!v?_r(t,a,(a.subtreeFlags&8772)!==0):Mi(t,a),Ni=f,ae=v}l&512&&(a.memoizedProps.mode==="manual"?_a(a,a.return):cn(a,a.return));break;default:Mi(t,a)}}function Tp(t){var n=t.alternate;n!==null&&(t.alternate=null,Tp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Yr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,hn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)Ap(t,n,a),a=a.sibling}function Ap(t,n,a){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ki,a)}catch{}switch(a.tag){case 26:ae||cn(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||cn(a,n);var l=ge,h=hn;for(ge=a.stateNode,Oi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Yr(a),ge=l,hn=h;break;case 5:ae||cn(a,n);case 6:h=ge;var f=hn;if(ge=null,Oi(t,n,a),ge=h,hn=f,ge!==null)if(hn)try{t=ge,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Yt(a,n,v)}else try{ge.removeChild(a.stateNode)}catch(v){Yt(a,n,v)}break;case 18:ge!==null&&(hn?(n=ge,a=a.stateNode,n.nodeType===8?Uf(n.parentNode,a):n.nodeType===1&&Uf(n,a),Ql(n)):Uf(ge,a.stateNode));break;case 4:l=ge,h=hn,ge=a.stateNode.containerInfo,hn=!0,Oi(t,n,a),ge=l,hn=h;break;case 0:case 11:case 14:case 15:ae||yr(2,a,n),ae||yr(4,a,n),Oi(t,n,a);break;case 1:ae||(cn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&mp(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:ae||cn(a,n),ae=(l=ae)||a.memoizedState!==null,Oi(t,n,a),ae=l;break;default:Oi(t,n,a)}}function Sp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(a){Yt(n,n.return,a)}}function rT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new _p),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new _p),n;default:throw Error(s(435,t.tag))}}function rf(t,n){var a=rT(t);n.forEach(function(l){var h=yT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ge=E.stateNode,hn=!1;break t;case 3:ge=E.stateNode.containerInfo,hn=!0;break t;case 4:ge=E.stateNode.containerInfo,hn=!0;break t}E=E.return}if(ge===null)throw Error(s(160));Ap(f,v,h),ge=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)bp(n,t),n=n.sibling}var kn=null;function bp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),In(t),l&4&&(yr(3,t,t.return),Dl(3,t),yr(5,t,t.return));break;case 1:Dn(n,t),In(t),l&512&&(ae||a===null||cn(a,a.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=kn;if(Dn(n,t),In(t),l&512&&(ae||a===null||cn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[tr]||f[De]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),ke(f,l,a),f[De]=t,Wt(f),l=f;break t;case"link":var v=gy("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;case"meta":if(v=gy("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(l),ke(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[De]=t,Wt(f),l=f}t.stateNode=l}else py(h,t.type,t.stateNode);else t.stateNode=my(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?py(h,t.type,t.stateNode):my(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&pp(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,f=t.memoizedProps;try{for(var w=h.firstChild;w;){var U=w.nextSibling,G=w.nodeName;w[tr]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=U}for(var Z=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);ke(h,Z,f),h[De]=t,h[ve]=f}catch(ot){Yt(t,t.return,ot)}}case 5:if(Dn(n,t),In(t),l&512&&(ae||a===null||cn(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(ot){Yt(t,t.return,ot)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,pp(t,h,a!==null?a.memoizedProps:h)),l&1024&&(nf=!0);break;case 6:if(Dn(n,t),In(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){Yt(t,t.return,ot)}}break;case 3:if(Mu=null,h=kn,kn=Nu(n.containerInfo),Dn(n,t),kn=h,In(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(ot){Yt(t,t.return,ot)}nf&&(nf=!1,wp(t));break;case 4:l=kn,kn=Nu(t.stateNode.containerInfo),Dn(n,t),In(t),kn=l;break;case 12:Dn(n,t),In(t);break;case 13:Dn(n,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(df=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 22:if(l&512&&(ae||a===null||cn(a,a.return)),w=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,G=Ni,Z=ae,Ni=G||w,ae=Z||U,Dn(n,t),ae=Z,Ni=G,In(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Ni||ae,a===null||U||n||cs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){U=a=n;try{if(h=U.stateNode,w)f=h.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{v=U.stateNode,E=U.memoizedProps.style;var F=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ot){Yt(U,U.return,ot)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=w?"":U.memoizedProps}catch(ot){Yt(U,U.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,rf(t,a))));break;case 19:Dn(n,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rf(t,l)));break;case 21:break;default:Dn(n,t),In(t)}}function In(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(yp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,f=tf(t);pu(t,f,h);break;case 5:var v=l.stateNode;l.flags&32&&(vn(v,""),l.flags&=-33);var E=tf(t);pu(t,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,U=tf(t);ef(t,U,w);break;default:throw Error(s(161))}}}catch(G){Yt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function wp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;wp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Mi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ep(t,n.alternate,n),n=n.sibling}function cs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:yr(4,n,n.return),cs(n);break;case 1:cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&mp(n,n.return,a),cs(n);break;case 26:case 27:case 5:cn(n,n.return),cs(n);break;case 22:cn(n,n.return),n.memoizedState===null&&cs(n);break;default:cs(n)}t=t.sibling}}function _r(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:_r(h,f,a),Dl(4,f);break;case 1:if(_r(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)hp(w[h],E)}catch(U){Yt(l,l.return,U)}}a&&v&64&&dp(f),_a(f,f.return);break;case 26:case 27:case 5:_r(h,f,a),a&&l===null&&v&4&&gp(f),_a(f,f.return);break;case 12:_r(h,f,a);break;case 13:_r(h,f,a),a&&v&4&&Sp(h,f);break;case 22:f.memoizedState===null&&_r(h,f,a),_a(f,f.return);break;default:_r(h,f,a)}n=n.sibling}}function af(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function vr(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rp(t,n,a,l),n=n.sibling}function Rp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vr(t,n,a,l),h&2048&&Dl(9,n);break;case 3:vr(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(h&2048){vr(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else vr(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?vr(t,n,a,l):Il(t,n):f._visibility&4?vr(t,n,a,l):(f._visibility|=4,hs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&af(n.alternate,n);break;case 24:vr(t,n,a,l),h&2048&&sf(n.alternate,n);break;default:vr(t,n,a,l)}}function hs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,w=l,U=v.flags;switch(v.tag){case 0:case 11:case 15:hs(f,v,E,w,h),Dl(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&4?hs(f,v,E,w,h):Il(f,v):(G._visibility|=4,hs(f,v,E,w,h)),h&&U&2048&&af(v.alternate,v);break;case 24:hs(f,v,E,w,h),h&&U&2048&&sf(v.alternate,v);break;default:hs(f,v,E,w,h)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Il(a,l),h&2048&&af(l.alternate,l);break;case 24:Il(a,l),h&2048&&sf(l.alternate,l);break;default:Il(a,l)}n=n.sibling}}var Vl=8192;function fs(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Cp(t),t=t.sibling}function Cp(t){switch(t.tag){case 26:fs(t),t.flags&Vl&&t.memoizedState!==null&&QT(kn,t.memoizedState,t.memoizedProps);break;case 5:fs(t);break;case 3:case 4:var n=kn;kn=Nu(t.stateNode.containerInfo),fs(t),kn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,fs(t),Vl=n):fs(t));break;default:fs(t)}}function Dp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Vp(l,t)}Dp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ip(t),t=t.sibling}function Ip(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&yr(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,yu(t)):Nl(t);break;default:Nl(t)}}function yu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,Vp(l,t)}Dp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:yr(8,n,n.return),yu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,yu(n));break;default:yu(n)}t=t.sibling}}function Vp(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:yr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var h=l.sibling,f=l.return;if(Tp(l),l===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}function aT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,a,l){return new aT(t,n,a,l)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Er(t,n){var a=t.alternate;return a===null?(a=Vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Np(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function _u(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")lf(t)&&(v=1);else if(typeof t=="string")v=FT(t,a,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return va(a.children,h,f,n);case y:v=8,h|=24;break;case T:return t=Vn(12,a,n,h|2),t.elementType=T,t.lanes=f,t;case K:return t=Vn(13,a,n,h),t.elementType=K,t.lanes=f,t;case j:return t=Vn(19,a,n,h),t.elementType=j,t.lanes=f,t;case tt:return Op(a,h,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case N:v=10;break t;case C:v=9;break t;case z:v=11;break t;case X:v=14;break t;case et:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function va(t,n,a,l){return t=Vn(7,t,l,n),t.lanes=a,t}function Op(t,n,a,l){t=Vn(22,t,l,n),t.elementType=tt,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=h._current;if(f===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=or(f,2);v!==null&&(h._pendingVisibility|=2,Je(v,f,2))}},attach:function(){var f=h._current;if(f===null)throw Error(s(456));if(h._pendingVisibility&2){var v=or(f,2);v!==null&&(h._pendingVisibility&=-3,Je(v,f,2))}}};return t.stateNode=h,t}function of(t,n,a){return t=Vn(6,t,null,n),t.lanes=a,t}function uf(t,n,a){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function xi(t){t.flags|=4}function Mp(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!yy(n)){if(n=Cn.current,n!==null&&((Ut&4194176)===Ut?Wn!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||n!==Wn))throw gl=dh,Xm;t.flags|=8192}}function vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Xi():536870912,t.lanes|=n,ms|=n)}function Ol(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function sT(t,n,a){var l=n.pendingProps;switch(hh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Se),di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hl(n)?xi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Pn!==null&&(yf(Pn),Pn=null))),Jt(n),null;case 26:return a=n.memoizedState,t===null?(xi(n),a!==null?(Jt(n),Mp(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(xi(n),Jt(n),Mp(n,a)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&xi(n),Jt(n),n.flags&=-16777217),null;case 27:Ma(n),a=pn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}t=Ye.current,hl(n)?Ym(n):(t=uy(h,l,a),n.stateNode=t,xi(n))}return Jt(n),null;case 5:if(Ma(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return Jt(n),null}if(t=Ye.current,hl(n))Ym(n);else{switch(h=Vu(pn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[De]=n,t[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ke(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&xi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=pn.current,hl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||iy(t.nodeValue,a)),t||ua(n)}else t=Vu(t).createTextNode(l),t[De]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=hl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else fl(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),h=!1}else Pn!==null&&(yf(Pn),Pn=null),h=!0;if(!h)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),vu(n,n.updateQueue),Jt(n),null;case 4:return di(),t===null&&Df(n.stateNode.containerInfo),Jt(n),null;case 10:return Vi(n.type),Jt(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ol(h,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=nu(t),f!==null){for(n.flags|=128,Ol(h,!1),t=f.updateQueue,n.updateQueue=t,vu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Np(a,t),a=a.sibling;return Gt(Ae,Ae.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>Eu&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304)}else{if(!l)if(t=nu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,vu(n,t),Ol(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*tn()-h.renderingStartTime>Eu&&a!==536870912&&(n.flags|=128,l=!0,Ol(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Gt(Ae,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return Ri(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&vu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ie(ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Se),Jt(n),null;case 25:return null}throw Error(s(156,n.tag))}function lT(t,n){switch(hh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Se),di(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ma(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return di(),null;case 10:return Vi(n.type),null;case 22:case 23:return Ri(n),gh(),t!==null&&ie(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function xp(t,n){switch(hh(n),n.tag){case 3:Vi(Se),di();break;case 26:case 27:case 5:Ma(n);break;case 4:di();break;case 13:Ri(n);break;case 19:ie(Ae);break;case 10:Vi(n.type);break;case 22:case 23:Ri(n),gh(),t!==null&&ie(ha);break;case 24:Vi(Se)}}var oT={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},uT=typeof WeakMap=="function"?WeakMap:Map,te=0,$t=null,It=null,Ut=0,Xt=0,fn=null,Ui=!1,ds=!1,cf=!1,Li=0,se=0,Tr=0,Ea=0,hf=0,Nn=0,ms=0,Ml=null,ti=null,ff=!1,df=0,Eu=1/0,Tu=null,Ar=null,Au=!1,Ta=null,xl=0,mf=0,gf=null,Ul=0,pf=null;function dn(){if(te&2&&Ut!==0)return Ut&-Ut;if(S.T!==null){var t=as;return t!==0?t:bf()}return Do()}function Up(){Nn===0&&(Nn=!(Ut&536870912)||Bt?Ks():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Nn}function Je(t,n,a){(t===$t&&Xt===2||t.cancelPendingCommit!==null)&&(gs(t,0),Pi(t,Ut,Nn,!1)),oe(t,a),(!(te&2)||t!==$t)&&(t===$t&&(!(te&2)&&(Ea|=a),se===4&&Pi(t,Ut,Nn,!1)),ei(t))}function Lp(t,n,a){if(te&6)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||$i(t,n),h=l?fT(t,n):Ef(t,n,!0),f=l;do{if(h===0){ds&&!l&&Pi(t,n,0,!1);break}else if(h===6)Pi(t,n,0,!Ui);else{if(a=t.current.alternate,f&&!cT(a)){h=Ef(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;h=Ml;var w=E.current.memoizedState.isDehydrated;if(w&&(gs(E,v).flags|=256),v=Ef(E,v,!1),v!==2){if(cf&&!w){E.errorRecoveryDisabledLanes|=f,Ea|=f,h=4;break t}f=ti,ti=h,f!==null&&yf(f)}h=v}if(f=!1,h!==2)continue}}if(h===1){gs(t,0),Pi(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Pi(l,n,Nn,!Ui);break t}break;case 2:ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=df+300-tn(),10<f)){if(Pi(l,n,Nn,!Ui),yn(l,0)!==0)break t;l.timeoutHandle=sy(Pp.bind(null,l,a,ti,Tu,ff,n,Nn,Ea,ms,Ui,2,-0,0),f);break t}Pp(l,a,ti,Tu,ff,n,Nn,Ea,ms,Ui,0,-0,0)}}break}while(!0);ei(t)}function yf(t){ti===null?ti=t:ti.push.apply(ti,t)}function Pp(t,n,a,l,h,f,v,E,w,U,G,Z,q){var F=n.subtreeFlags;if((F&8192||(F&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:GT},Cp(n),n=KT(),n!==null)){t.cancelPendingCommit=n(Fp.bind(null,t,a,l,h,v,E,w,1,Z,q)),Pi(t,f,v,!U);return}Fp(t,a,l,h,v,E,w,G,Z,q)}function cT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!un(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Pi(t,n,a,l){n&=~hf,n&=~Ea,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-$e(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Zi(t,a,n)}function Su(){return te&6?!0:(Ll(0),!1)}function _f(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Ii=pa=null,Sh(t),is=null,pl=0,t=It;for(;t!==null;)xp(t.alternate,t),t=t.return;It=null}}function gs(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_f(),$t=t,It=a=Er(t.current,null),Ut=n,Xt=0,fn=null,Ui=!1,ds=$i(t,n),cf=!1,ms=Nn=hf=Ea=Tr=se=0,ti=Ml=null,ff=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$e(l),f=1<<h;n|=t[h],l&=~f}return Li=n,Ko(),a}function kp(t,n){Ct=null,S.H=Jn,n===ml?(n=Jm(),Xt=3):n===Xm?(n=Jm(),Xt=4):Xt=n===Zg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(se=1,du(t,bn(n,t.current)))}function zp(){var t=S.H;return S.H=Jn,t===null?Jn:t}function Bp(){var t=S.A;return S.A=oT,t}function vf(){se=4,Ui||(Ut&4194176)!==Ut&&Cn.current!==null||(ds=!0),!(Tr&134217727)&&!(Ea&134217727)||$t===null||Pi($t,Ut,Nn,!1)}function Ef(t,n,a){var l=te;te|=2;var h=zp(),f=Bp();($t!==t||Ut!==n)&&(Tu=null,gs(t,n)),n=!1;var v=se;t:do try{if(Xt!==0&&It!==null){var E=It,w=fn;switch(Xt){case 8:_f(),v=6;break t;case 3:case 2:case 6:Cn.current===null&&(n=!0);var U=Xt;if(Xt=0,fn=null,ps(t,E,w,U),a&&ds){v=0;break t}break;default:U=Xt,Xt=0,fn=null,ps(t,E,w,U)}}hT(),v=se;break}catch(G){kp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ii=pa=null,te=l,S.H=h,S.A=f,It===null&&($t=null,Ut=0,Ko()),v}function hT(){for(;It!==null;)qp(It)}function fT(t,n){var a=te;te|=2;var l=zp(),h=Bp();$t!==t||Ut!==n?(Tu=null,Eu=tn()+500,gs(t,n)):ds=$i(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var f=fn;e:switch(Xt){case 1:Xt=0,fn=null,ps(t,n,f,1);break;case 2:if(Zm(f)){Xt=0,fn=null,jp(n);break}n=function(){Xt===2&&$t===t&&(Xt=7),ei(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Zm(f)?(Xt=0,fn=null,jp(n)):(Xt=0,fn=null,ps(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var E=It;if(!v||yy(v)){Xt=0,fn=null;var w=E.sibling;if(w!==null)It=w;else{var U=E.return;U!==null?(It=U,bu(U)):It=null}break e}}Xt=0,fn=null,ps(t,n,f,5);break;case 6:Xt=0,fn=null,ps(t,n,f,6);break;case 8:_f(),se=6;break t;default:throw Error(s(462))}}dT();break}catch(G){kp(t,G)}while(!0);return Ii=pa=null,S.H=l,S.A=h,te=a,It!==null?0:($t=null,Ut=0,Ko(),se)}function dT(){for(;It!==null&&!Kc();)qp(It)}function qp(t){var n=up(t.alternate,t,Li);t.memoizedProps=t.pendingProps,n===null?bu(t):It=n}function jp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ip(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=ip(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Sh(n);default:xp(a,n),n=It=Np(n,Li),n=up(a,n,Li)}t.memoizedProps=t.pendingProps,n===null?bu(t):It=n}function ps(t,n,a,l){Ii=pa=null,Sh(n),is=null,pl=0;var h=n.return;try{if(eT(t,h,n,a,Ut)){se=1,du(t,bn(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;se=1,du(t,bn(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:ds||Ut&536870912?t=!1:(Ui=t=!0,(l===2||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hp(n,t)):bu(n)}function bu(t){var n=t;do{if(n.flags&32768){Hp(n,Ui);return}t=n.return;var a=sT(n.alternate,n,Li);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function Hp(t,n){do{var a=lT(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);se=6,It=null}function Fp(t,n,a,l,h,f,v,E,w,U){var G=S.T,Z=at.p;try{at.p=2,S.T=null,mT(t,n,a,l,Z,h,f,v,E,w,U)}finally{S.T=G,at.p=Z}}function mT(t,n,a,l,h,f,v,E){do ys();while(Ta!==null);if(te&6)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=w.lanes|w.childLanes;if(U|=oh,Ro(t,l,U,f,v,E),t===$t&&(It=$t=null,Ut=0),!(w.subtreeFlags&10256)&&!(w.flags&10256)||Au||(Au=!0,mf=U,gf=a,_T(mi,function(){return ys(),null})),a=(w.flags&15990)!==0,w.subtreeFlags&15990||a?(a=S.T,S.T=null,f=at.p,at.p=2,v=te,te|=4,iT(t,w),bp(w,t),k0(Of,t.containerInfo),Lu=!!Nf,Of=Nf=null,t.current=w,Ep(t,w.alternate,w),Hs(),te=v,at.p=f,S.T=a):t.current=w,Au?(Au=!1,Ta=t,xl=l):Gp(t,U),U=t.pendingLanes,U===0&&(Ar=null),Gs(w.stateNode),ei(t),n!==null)for(h=t.onRecoverableError,w=0;w<n.length;w++)U=n[w],h(U.value,{componentStack:U.stack});return xl&3&&ys(),U=t.pendingLanes,l&4194218&&U&42?t===pf?Ul++:(Ul=0,pf=t):Ul=0,Ll(0),null}function Gp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function ys(){if(Ta!==null){var t=Ta,n=mf;mf=0;var a=Co(xl),l=S.T,h=at.p;try{if(at.p=32>a?32:a,S.T=null,Ta===null)var f=!1;else{a=gf,gf=null;var v=Ta,E=xl;if(Ta=null,xl=0,te&6)throw Error(s(331));var w=te;if(te|=4,Ip(v.current),Rp(v,v.current,E,a),te=w,Ll(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ki,v)}catch{}f=!0}return f}finally{at.p=h,S.T=l,Gp(t,n)}}return!1}function Qp(t,n,a){n=bn(a,n),n=Ph(t.stateNode,n,2),t=pr(t,n,2),t!==null&&(oe(t,2),ei(t))}function Yt(t,n,a){if(t.tag===3)Qp(t,t,a);else for(;n!==null;){if(n.tag===3){Qp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=bn(a,t),a=$g(2),l=pr(n,a,2),l!==null&&(Xg(a,l,n,t),oe(l,2),ei(l));break}}n=n.return}}function Tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(cf=!0,h.add(a),t=gT.bind(null,t,n,a),n.then(t,t))}function gT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-df?!(te&2)&&gs(t,0):hf|=a,ms===Ut&&(ms=0)),ei(t)}function Kp(t,n){n===0&&(n=Xi()),t=or(t,n),t!==null&&(oe(t,n),ei(t))}function pT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Kp(t,a)}function yT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Kp(t,a)}function _T(t,n){return Gr(t,n)}var wu=null,_s=null,Af=!1,Ru=!1,Sf=!1,Aa=0;function ei(t){t!==_s&&t.next===null&&(_s===null?wu=_s=t:_s=_s.next=t),Ru=!0,Af||(Af=!0,ET(vT))}function Ll(t,n){if(!Sf&&Ru){Sf=!0;do for(var a=!1,l=wu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$e(42|t)+1)-1,f&=h&~(v&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,Xp(l,f))}else f=Ut,f=yn(l,l===$t?f:0),!(f&3)||$i(l,f)||(a=!0,Xp(l,f));l=l.next}while(a);Sf=!1}}function vT(){Ru=Af=!1;var t=0;Aa!==0&&(DT()&&(t=Aa),Aa=0);for(var n=tn(),a=null,l=wu;l!==null;){var h=l.next,f=Yp(l,n);f===0?(l.next=null,a===null?wu=h:a.next=h,h===null&&(_s=a)):(a=l,(t!==0||f&3)&&(Ru=!0)),l=h}Ll(t)}function Yp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-$e(f),E=1<<v,w=h[v];w===-1?(!(E&a)||E&l)&&(h[v]=La(E,n)):w<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,a=Ut,a=yn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ua(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||$i(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ua(l),Co(a)){case 2:case 8:a=Ce;break;case 32:a=mi;break;case 268435456:a=Fs;break;default:a=mi}return l=$p.bind(null,t),a=Gr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ua(l),t.callbackPriority=2,t.callbackNode=null,2}function $p(t,n){var a=t.callbackNode;if(ys()&&t.callbackNode!==a)return null;var l=Ut;return l=yn(t,t===$t?l:0),l===0?null:(Lp(t,l,n),Yp(t,tn()),t.callbackNode!=null&&t.callbackNode===a?$p.bind(null,t):null)}function Xp(t,n){if(ys())return null;Lp(t,n,!0)}function ET(t){VT(function(){te&6?Gr(_e,t):t()})}function bf(){return Aa===0&&(Aa=Ks()),Aa}function Zp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fn(""+t)}function Wp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function TT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=Zp((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?Zp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ha("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Aa!==0){var w=v?Wp(h,v):new FormData(h);Oh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=v?Wp(h,v):new FormData(h),Oh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var wf=0;wf<Fm.length;wf++){var Rf=Fm[wf],AT=Rf.toLowerCase(),ST=Rf[0].toUpperCase()+Rf.slice(1);Ln(AT,"on"+ST)}Ln(zm,"onAnimationEnd"),Ln(Bm,"onAnimationIteration"),Ln(qm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(B0,"onTransitionRun"),Ln(q0,"onTransitionStart"),Ln(j0,"onTransitionCancel"),Ln(jm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Jp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,U=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,U=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=U;try{f(h)}catch(G){fu(G)}h.currentTarget=null,f=w}}}}function Nt(t,n){var a=n[Kr];a===void 0&&(a=n[Kr]=new Set);var l=t+"__bubble";a.has(l)||(ty(n,t,2,!1),a.add(l))}function Cf(t,n,a){var l=0;n&&(l|=4),ty(a,t,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Df(t){if(!t[Cu]){t[Cu]=!0,$s.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||Cf(a,!1,t),Cf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,Cf("selectionchange",!1,n))}}function ty(t,n,a,l){switch(Sy(n)){case 2:var h=XT;break;case 8:h=ZT;break;default:h=qf}a=h.bind(null,n,a,t),h=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function If(t,n,a,l,h){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;v=v.return}for(;E!==null;){if(v=Un(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Oo(function(){var U=f,G=ja(a),Z=[];t:{var q=Hm.get(t);if(q!==void 0){var F=Ha,ot=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":F=$a;break;case"focusin":ot="focus",F=Qa;break;case"focusout":ot="blur",F=Qa;break;case"beforeblur":case"afterblur":F=Qa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Bo;break;case zm:case Bm:case qm:F=Ka;break;case jm:F=jo;break;case"scroll":case"scrollend":F=Mo;break;case"wheel":F=Xa;break;case"copy":case"cut":case"paste":F=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ll;break;case"toggle":case"beforetoggle":F=Fo}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var O=U,B;O!==null;){var Y=O;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||L===null||(Y=Wr(O,L),Y!=null&&Tt.push(kl(O,Y,B))),le)break;O=O.return}0<Tt.length&&(q=new F(q,ot,null,a,G),Z.push({event:q,listeners:Tt}))}}if(!(n&7)){t:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==En&&(ot=a.relatedTarget||a.fromElement)&&(Un(ot)||ot[gi]))break t;if((F||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ot=a.relatedTarget||a.toElement,F=U,ot=ot?Un(ot):null,ot!==null&&(le=mt(ot),Tt=ot.tag,ot!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ot=null)):(F=null,ot=U),F!==ot)){if(Tt=An,Y="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=ll,Y="onPointerLeave",L="onPointerEnter",O="pointer"),le=F==null?q:er(F),B=ot==null?q:er(ot),q=new Tt(Y,O+"leave",F,a,G),q.target=le,q.relatedTarget=B,Y=null,Un(G)===U&&(Tt=new Tt(L,O+"enter",ot,a,G),Tt.target=B,Tt.relatedTarget=le,Y=Tt),le=Y,F&&ot)e:{for(Tt=F,L=ot,O=0,B=Tt;B;B=vs(B))O++;for(B=0,Y=L;Y;Y=vs(Y))B++;for(;0<O-B;)Tt=vs(Tt),O--;for(;0<B-O;)L=vs(L),B--;for(;O--;){if(Tt===L||L!==null&&Tt===L.alternate)break e;Tt=vs(Tt),L=vs(L)}Tt=null}else Tt=null;F!==null&&ey(Z,q,F,Tt,!1),ot!==null&&le!==null&&ey(Z,le,ot,Tt,!0)}}t:{if(q=U?er(U):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var lt=Dm;else if(Te(q))if(Im)lt=L0;else{lt=x0;var Dt=M0}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&tl(U.elementType)&&(lt=Dm):lt=U0;if(lt&&(lt=lt(t,U))){Si(Z,lt,a,G);break t}Dt&&Dt(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&qa(q,"number",q.value)}switch(Dt=U?er(U):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(Za=Dt,ah=U,cl=null);break;case"focusout":cl=ah=Za=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,Pm(Z,a,G);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":Pm(Z,a,G)}var ht;if($n)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else Mt?H(t,a)&&(pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(_&&a.locale!=="ko"&&(Mt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&Mt&&(ht=nl()):(Gn=G,lr="value"in Gn?Gn.value:Gn.textContent,Mt=!0)),Dt=Du(U,pt),0<Dt.length&&(pt=new al(pt,t,null,a,G),Z.push({event:pt,listeners:Dt}),ht?pt.data=ht:(ht=nt(a),ht!==null&&(pt.data=ht)))),(ht=g?Ee(t,a):xt(t,a))&&(pt=Du(U,"onBeforeInput"),0<pt.length&&(Dt=new al("onBeforeInput","beforeinput",null,a,G),Z.push({event:Dt,listeners:pt}),Dt.data=ht)),TT(Z,t,U,a,G)}Jp(Z,n)})}function kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Du(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wr(t,a),h!=null&&l.unshift(kl(t,h,f)),h=Wr(t,n),h!=null&&l.push(kl(t,h,f))),t=t.return}return l}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,w=E.alternate,U=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||U===null||(w=U,h?(U=Wr(a,f),U!=null&&v.unshift(kl(a,U,w))):h||(U=Wr(a,f),U!=null&&v.push(kl(a,U,w)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var wT=/\r\n?/g,RT=/\u0000|\uFFFD/g;function ny(t){return(typeof t=="string"?t:""+t).replace(wT,`
`).replace(RT,"")}function iy(t,n){return n=ny(n),ny(t)===n}function Iu(){}function Kt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":rr(t,"class",l);break;case"tabIndex":rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,a,l);break;case"style":No(t,l,f);break;case"data":if(n!=="object"){rr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":_n(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_n(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_n(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_n(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_n(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_n(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_n(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_n(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_n(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wc.get(a)||a,ir(t,a,l))}}function Vf(t,n,a,l,h,f){switch(a){case"style":No(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Iu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var E=f=v=h=null,w=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":h=G;break;case"type":v=G;break;case"checked":w=G;break;case"defaultChecked":U=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Kt(t,n,l,G,a,null)}}Xr(t,f,E,w,U,v,h,!1),$r(t);return;case"select":Nt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Kt(t,n,h,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):a!=null&&zt(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Kt(t,n,v,E,a,null)}sr(t,l,h,f),$r(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,a,null)}return;case"dialog":Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Nt(Pl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,a,null)}return;default:if(tl(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Vf(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Kt(t,n,E,l,a,null))}function CT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,w=null,U=null,G=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(F)||Kt(t,n,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":G=F;break;case"value":v=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==Z&&Kt(t,n,q,F,l,Z)}}ar(t,v,E,w,U,G,f,h);return;case"select":F=v=E=q=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":F=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":q=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,h,f,l,w)}n=E,a=v,l=F,q!=null?zt(t,!!a,q,!1):!!l!=!!a&&(n!=null?zt(t,!!a,n,!0):zt(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Kt(t,n,E,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Zr(t,q,F);return;case"option":for(var ot in a)if(q=a[ot],a.hasOwnProperty(ot)&&q!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Kt(t,n,ot,null,l,q)}for(w in l)if(q=l[w],F=a[w],l.hasOwnProperty(w)&&q!==F&&(q!=null||F!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,w,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,q);for(U in l)if(q=l[U],F=a[U],l.hasOwnProperty(U)&&q!==F&&(q!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,U,q,l,F)}return;default:if(tl(n)){for(var le in a)q=a[le],a.hasOwnProperty(le)&&q!==void 0&&!l.hasOwnProperty(le)&&Vf(t,n,le,void 0,l,q);for(G in l)q=l[G],F=a[G],!l.hasOwnProperty(G)||q===F||q===void 0&&F===void 0||Vf(t,n,G,q,l,F);return}}for(var L in a)q=a[L],a.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Kt(t,n,L,null,l,q);for(Z in l)q=l[Z],F=a[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||Kt(t,n,Z,q,l,F)}var Nf=null,Of=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function ry(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ay(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Mf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function DT(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,ly=typeof Promise=="function"?Promise:void 0,VT=typeof queueMicrotask=="function"?queueMicrotask:typeof ly<"u"?function(t){return ly.resolve(null).then(t).catch(NT)}:sy;function NT(t){setTimeout(function(){throw t})}function Uf(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Ql(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ql(n)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),Yr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[tr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function MT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function uy(t,n,a){switch(n=Vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var On=new Map,cy=new Set;function Nu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ki=at.d;at.d={f:xT,r:UT,D:LT,C:PT,L:kT,m:zT,X:qT,S:BT,M:jT};function xT(){var t=ki.f(),n=Su();return t||n}function UT(t){var n=pi(t);n!==null&&n.tag===5&&n.type==="form"?Pg(n):ki.r(t)}var Es=typeof document>"u"?null:document;function hy(t,n,a){var l=Es;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cy.has(h)||(cy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",t),Wt(n),l.head.appendChild(n)))}}function LT(t){ki.D(t),hy("dns-prefetch",t,null)}function PT(t,n){ki.C(t,n),hy("preconnect",t,n)}function kT(t,n,a){ki.L(t,n,a);var l=Es;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var f=h;switch(n){case"style":f=Ts(t);break;case"script":f=As(t)}On.has(f)||(t=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),On.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),ke(n,"link",t),Wt(n),l.head.appendChild(n)))}}function zT(t,n){ki.m(t,n);var a=Es;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(t)}if(!On.has(f)&&(t=I({rel:"modulepreload",href:t},n),On.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(f)))return}l=a.createElement("link"),ke(l,"link",t),Wt(l),a.head.appendChild(l)}}}function BT(t,n,a){ki.S(t,n,a);var l=Es;if(l&&t){var h=nr(l).hoistableStyles,f=Ts(t);n=n||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(zl(f)))E.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},a),(a=On.get(f))&&Pf(t,a);var w=v=l.createElement("link");Wt(w),ke(w,"link",t),w._p=new Promise(function(U,G){w.onload=U,w.onerror=G}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ou(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function qT(t,n){ki.X(t,n);var a=Es;if(a&&t){var l=nr(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Bl(h)),f||(t=I({src:t,async:!0},n),(n=On.get(h))&&kf(t,n),f=a.createElement("script"),Wt(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function jT(t,n){ki.M(t,n);var a=Es;if(a&&t){var l=nr(a).hoistableScripts,h=As(t),f=l.get(h);f||(f=a.querySelector(Bl(h)),f||(t=I({src:t,async:!0,type:"module"},n),(n=On.get(h))&&kf(t,n),f=a.createElement("script"),Wt(f),ke(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function fy(t,n,a,l){var h=(h=pn.current)?Nu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ts(a.href),a=nr(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ts(a.href);var f=nr(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(zl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),f||HT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=As(a),a=nr(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ts(t){return'href="'+re(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function dy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function HT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Wt(n),t.head.appendChild(n))}function As(t){return'[src="'+re(t)+'"]'}function Bl(t){return"script[async]"+t}function my(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Wt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Wt(l),ke(l,"style",h),Ou(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ts(a.href);var f=t.querySelector(zl(h));if(f)return n.state.loading|=4,n.instance=f,Wt(f),f;l=dy(a),(h=On.get(h))&&Pf(l,h),f=(t.ownerDocument||t).createElement("link"),Wt(f);var v=f;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ke(f,"link",l),n.state.loading|=4,Ou(f,a.precedence,t),n.instance=f;case"script":return f=As(a.src),(h=t.querySelector(Bl(f)))?(n.instance=h,Wt(h),h):(l=a,(h=On.get(f))&&(l=I({},a),kf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Wt(h),ke(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,Ou(l,a.precedence,t));return n.instance}function Ou(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Mu=null;function gy(t,n,a){if(Mu===null){var l=new Map,h=Mu=new Map;h.set(a,l)}else h=Mu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[tr]||f[De]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function py(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function FT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function yy(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ql=null;function GT(){}function QT(t,n,a){if(ql===null)throw Error(s(475));var l=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var h=Ts(a.href),f=t.querySelector(zl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=xu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Wt(f);return}f=t.ownerDocument||t,a=dy(a),(h=On.get(h))&&Pf(a,h),f=f.createElement("link"),Wt(f);var v=f;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=xu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function KT(){if(ql===null)throw Error(s(475));var t=ql;return t.stylesheets&&t.count===0&&zf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uu=null;function zf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uu=new Map,n.forEach(YT,t),Uu=null,xu.call(t))}function YT(t,n){if(!(n.state.loading&4)){var a=Uu.get(t);if(a)var l=a.get(null);else{a=new Map,Uu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=xu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:N,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function $T(t,n,a,l,h,f,v,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pa(0),this.hiddenUpdates=Pa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _y(t,n,a,l,h,f,v,E,w,U,G,Z){return t=new $T(t,n,a,v,E,w,U,Z),n=1,f===!0&&(n|=24),f=Vn(3,null,null,n),t.current=f,f.stateNode=t,n=ph(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Xh(f),t}function vy(t){return t?(t=ts,t):ts}function Ey(t,n,a,l,h,f){h=vy(h),l.context===null?l.context=h:l.pendingContext=h,l=gr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=pr(t,l,n),a!==null&&(Je(a,t,n),wl(a,t,n))}function Ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bf(t,n){Ty(t,n),(t=t.alternate)&&Ty(t,n)}function Ay(t){if(t.tag===13){var n=or(t,67108864);n!==null&&Je(n,t,67108864),Bf(t,67108864)}}var Lu=!0;function XT(t,n,a,l){var h=S.T;S.T=null;var f=at.p;try{at.p=2,qf(t,n,a,l)}finally{at.p=f,S.T=h}}function ZT(t,n,a,l){var h=S.T;S.T=null;var f=at.p;try{at.p=8,qf(t,n,a,l)}finally{at.p=f,S.T=h}}function qf(t,n,a,l){if(Lu){var h=jf(l);if(h===null)If(t,n,l,Pu,a),by(t,l);else if(JT(h,t,n,a,l))l.stopPropagation();else if(by(t,l),n&4&&-1<WT.indexOf(t)){for(;h!==null;){var f=pi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=xn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-$e(v);E.entanglements[1]|=w,v&=~w}ei(f),!(te&6)&&(Eu=tn()+500,Ll(0))}}break;case 13:E=or(f,2),E!==null&&Je(E,f,2),Su(),Bf(f,2)}if(f=jf(l),f===null&&If(t,n,l,Pu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else If(t,n,l,null,a)}}function jf(t){return t=ja(t),Hf(t)}var Pu=null;function Hf(t){if(Pu=null,t=Un(t),t!==null){var n=mt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=jt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function Sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ao()){case _e:return 2;case Ce:return 8;case mi:case So:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Ff=!1,Sr=null,br=null,wr=null,Hl=new Map,Fl=new Map,Rr=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function by(t,n){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=pi(n),n!==null&&Ay(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function JT(t,n,a,l,h){switch(n){case"focusin":return Sr=Gl(Sr,t,n,a,l,h),!0;case"dragenter":return br=Gl(br,t,n,a,l,h),!0;case"mouseover":return wr=Gl(wr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,n,a,l,h)),!0}return!1}function wy(t){var n=Un(t.target);if(n!==null){var a=mt(n);if(a!==null){if(n=a.tag,n===13){if(n=jt(a),n!==null){t.blockedOn=n,Ji(t.priority,function(){if(a.tag===13){var l=dn(),h=or(a,l);h!==null&&Je(h,a,l),Bf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ku(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=jf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);En=l,a.target.dispatchEvent(l),En=null}else return n=pi(a),n!==null&&Ay(n),t.blockedOn=a,!1;n.shift()}return!0}function Ry(t,n,a){ku(t)&&a.delete(n)}function tA(){Ff=!1,Sr!==null&&ku(Sr)&&(Sr=null),br!==null&&ku(br)&&(br=null),wr!==null&&ku(wr)&&(wr=null),Hl.forEach(Ry),Fl.forEach(Ry)}function zu(t,n){t.blockedOn===n&&(t.blockedOn=null,Ff||(Ff=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tA)))}var Bu=null;function Cy(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Hf(l||a)===null)continue;break}var f=pi(a);f!==null&&(t.splice(n,3),n-=3,Oh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ql(t){function n(w){return zu(w,t)}Sr!==null&&zu(Sr,t),br!==null&&zu(br,t),wr!==null&&zu(wr,t),Hl.forEach(n),Fl.forEach(n);for(var a=0;a<Rr.length;a++){var l=Rr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)wy(a),a.blockedOn===null&&Rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[ve]||null;if(typeof f=="function")v||Cy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ve]||null)E=v.formAction;else if(Hf(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Cy(a)}}}function Gf(t){this._internalRoot=t}qu.prototype.render=Gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();Ey(a,l,t,n,null,null)},qu.prototype.unmount=Gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ys(),Ey(t.current,2,null,t,null,null),Su(),n[gi]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Do();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Rr.length&&n!==0&&n<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&wy(t)}};var Dy=e.version;if(Dy!=="19.0.0")throw Error(s(527,Dy,"19.0.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=J(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Un,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Ki=ju.inject(eA),je=ju}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=Gg,f=Qg,v=Kg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=_y(t,1,!1,null,null,a,l,h,f,v,E,null),t[gi]=n.current,Df(t.nodeType===8?t.parentNode:t),new Gf(n)},Yl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Gg,v=Qg,E=Kg,w=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),n=_y(t,1,!0,n,a??null,l,h,f,v,E,w,U),n.context=vy(null),a=n.current,l=dn(),h=gr(l),h.callback=null,pr(a,h,l),n.current.lanes=l,oe(n,l),ei(n),t[gi]=n.current,Df(t),new qu(n)},Yl.version="19.0.0",Yl}var ky;function fA(){if(ky)return Yf.exports;ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yf.exports=hA(),Yf.exports}var dA=fA();const mA=sv(dA);var $l={},zy;function gA(){if(zy)return $l;zy=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=d,$l.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,N){const z=new c,K=C.length;if(K<2)return z;const j=(N==null?void 0:N.decode)||T;let X=0;do{const et=C.indexOf("=",X);if(et===-1)break;const tt=C.indexOf(";",X),vt=tt===-1?K:tt;if(et>vt){X=C.lastIndexOf(";",et-1)+1;continue}const ct=m(C,X,et),Rt=p(C,et,ct),x=C.slice(ct,Rt);if(z[x]===void 0){let R=m(C,et+1,vt),S=p(C,vt,R);const I=j(C.slice(R,S));z[x]=I}X=vt+1}while(X<K);return z}function m(C,N,z){do{const K=C.charCodeAt(N);if(K!==32&&K!==9)return N}while(++N<z);return z}function p(C,N,z){for(;N>z;){const K=C.charCodeAt(--N);if(K!==32&&K!==9)return N+1}return z}function y(C,N,z){const K=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=K(N);if(!e.test(j))throw new TypeError(`argument val is invalid: ${N}`);let X=C+"="+j;if(!z)return X;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);X+="; Max-Age="+z.maxAge}if(z.domain){if(!i.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);X+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);X+="; Path="+z.path}if(z.expires){if(!b(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);X+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(X+="; HttpOnly"),z.secure&&(X+="; Secure"),z.partitioned&&(X+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return X}function T(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function b(C){return o.call(C)==="[object Date]"}return $l}gA();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var By="popstate";function pA(r={}){function e(s,o){let{pathname:c,search:d,hash:m}=s.location;return hd("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:ao(o)}return _A(e,i,null,r)}function ee(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substring(2,10)}function qy(r,e){return{usr:r.state,key:r.key,idx:e}}function hd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ls(e):e,state:i,key:e&&e.key||s||yA()}}function ao({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ls(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function _A(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,m="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){m="POP";let j=T(),X=j==null?null:j-y;y=j,p&&p({action:m,location:K.location,delta:X})}function C(j,X){m="PUSH";let et=hd(K.location,j,X);y=T()+1;let tt=qy(et,y),vt=K.createHref(et);try{d.pushState(tt,"",vt)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(vt)}c&&p&&p({action:m,location:K.location,delta:1})}function N(j,X){m="REPLACE";let et=hd(K.location,j,X);y=T();let tt=qy(et,y),vt=K.createHref(et);d.replaceState(tt,"",vt),c&&p&&p({action:m,location:K.location,delta:0})}function z(j){let X=o.location.origin!=="null"?o.location.origin:o.location.href,et=typeof j=="string"?j:ao(j);return et=et.replace(/ $/,"%20"),ee(X,`No window.location.(origin|href) available to create URL for href: ${et}`),new URL(et,X)}let K={get action(){return m},get location(){return r(o,d)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(By,b),p=j,()=>{o.removeEventListener(By,b),p=null}},createHref(j){return e(o,j)},createURL:z,encodeLocation(j){let X=z(j);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:C,replace:N,go(j){return d.go(j)}};return K}function lv(r,e,i="/"){return vA(r,e,i,!1)}function vA(r,e,i,s){let o=typeof e=="string"?Ls(e):e,c=xr(o.pathname||"/",i);if(c==null)return null;let d=ov(r);EA(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=NA(c);m=IA(d[p],y,s)}return m}function ov(r,e=[],i=[],s=""){let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(ee(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=zi([s,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),ov(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:CA(y,c.index),routesMeta:T})};return r.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of uv(c.path))o(c,d,p)}),e}function uv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=uv(s.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function EA(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:DA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,AA=3,SA=2,bA=1,wA=10,RA=-2,jy=r=>r==="*";function CA(r,e){let i=r.split("/"),s=i.length;return i.some(jy)&&(s+=RA),e&&(s+=SA),i.filter(o=>!jy(o)).reduce((o,c)=>o+(TA.test(c)?AA:c===""?bA:wA),s)}function DA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function IA(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),C=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=ac({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:zi([c,b.pathname]),pathnameBase:UA(zi([c,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(c=zi([c,b.pathnameBase]))}return d}function ac(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=VA(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},C)=>{if(T==="*"){let z=m[C]||"";d=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const N=m[C];return b&&!N?y[T]=void 0:y[T]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function VA(r,e=!1,i=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function xr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function OA(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Ls(r):r;return{pathname:i?i.startsWith("/")?i:MA(i,e):e,search:LA(s),hash:PA(o)}}function MA(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Wf(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xA(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function cv(r){let e=xA(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function hv(r,e,i,s=!1){let o;typeof r=="string"?o=Ls(r):(o={...r},ee(!o.pathname||!o.pathname.includes("?"),Wf("?","pathname","search",o)),ee(!o.pathname||!o.pathname.includes("#"),Wf("#","pathname","hash",o)),ee(!o.search||!o.search.includes("#"),Wf("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?e[b]:"/"}let p=OA(o,m),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var zi=r=>r.join("/").replace(/\/\/+/g,"/"),UA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function kA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var fv=["POST","PUT","PATCH","DELETE"];new Set(fv);var zA=["GET",...fv];new Set(zA);var Ps=Q.createContext(null);Ps.displayName="DataRouter";var bc=Q.createContext(null);bc.displayName="DataRouterState";var dv=Q.createContext({isTransitioning:!1});dv.displayName="ViewTransition";var BA=Q.createContext(new Map);BA.displayName="Fetchers";var qA=Q.createContext(null);qA.displayName="Await";var hi=Q.createContext(null);hi.displayName="Navigation";var mo=Q.createContext(null);mo.displayName="Location";var Fi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var Ld=Q.createContext(null);Ld.displayName="RouteError";function jA(r,{relative:e}={}){ee(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(hi),{hash:o,pathname:c,search:d}=po(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:zi([i,c])),s.createHref({pathname:m,search:d,hash:o})}function go(){return Q.useContext(mo)!=null}function Va(){return ee(go(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(mo).location}var mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gv(r){Q.useContext(hi).static||Q.useLayoutEffect(r)}function Pd(){let{isDataRoute:r}=Q.useContext(Fi);return r?eS():HA()}function HA(){ee(go(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ps),{basename:e,navigator:i}=Q.useContext(hi),{matches:s}=Q.useContext(Fi),{pathname:o}=Va(),c=JSON.stringify(cv(s)),d=Q.useRef(!1);return gv(()=>{d.current=!0}),Q.useCallback((p,y={})=>{if(li(d.current,mv),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=hv(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:zi([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,c,o,r])}Q.createContext(null);function po(r,{relative:e}={}){let{matches:i}=Q.useContext(Fi),{pathname:s}=Va(),o=JSON.stringify(cv(i));return Q.useMemo(()=>hv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function FA(r,e){return pv(r,e)}function pv(r,e,i,s){var et;ee(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=Q.useContext(hi),{matches:d}=Q.useContext(Fi),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let tt=b&&b.path||"";yv(y,!b||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let C=Va(),N;if(e){let tt=typeof e=="string"?Ls(e):e;ee(T==="/"||((et=tt.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),N=tt}else N=C;let z=N.pathname||"/",K=z;if(T!=="/"){let tt=T.replace(/^\//,"").split("/");K="/"+z.replace(/^\//,"").split("/").slice(tt.length).join("/")}let j=!c&&i&&i.matches&&i.matches.length>0?i.matches:lv(r,{pathname:K});li(b||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),li(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=$A(j&&j.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:zi([T,o.encodeLocation?o.encodeLocation(tt.pathname).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?T:zi([T,o.encodeLocation?o.encodeLocation(tt.pathnameBase).pathname:tt.pathnameBase])})),d,i,s);return e&&X?Q.createElement(mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},X):X}function GA(){let r=tS(),e=kA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var QA=Q.createElement(GA,null),KA=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Fi.Provider,{value:this.props.routeContext},Q.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YA({routeContext:r,match:e,children:i}){let s=Q.useContext(Ps);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Fi.Provider,{value:r},i)}function $A(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ee(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:b}=i,C=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||C){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let b,C=!1,N=null,z=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,N=y.route.errorElement||QA,d&&(m<0&&T===0?(yv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,z=null):m===T&&(C=!0,z=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),j=()=>{let X;return b?X=N:C?X=z:y.route.Component?X=Q.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=p,Q.createElement(YA,{match:y,routeContext:{outlet:p,matches:K,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?Q.createElement(KA,{location:i.location,revalidation:i.revalidation,component:N,error:b,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):j()},null)}function kd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(r){let e=Q.useContext(Ps);return ee(e,kd(r)),e}function ZA(r){let e=Q.useContext(bc);return ee(e,kd(r)),e}function WA(r){let e=Q.useContext(Fi);return ee(e,kd(r)),e}function zd(r){let e=WA(r),i=e.matches[e.matches.length-1];return ee(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function JA(){return zd("useRouteId")}function tS(){var s;let r=Q.useContext(Ld),e=ZA("useRouteError"),i=zd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function eS(){let{router:r}=XA("useNavigate"),e=zd("useNavigate"),i=Q.useRef(!1);return gv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{li(i.current,mv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Hy={};function yv(r,e,i){!e&&!Hy[r]&&(Hy[r]=!0,li(!1,i))}Q.memo(nS);function nS({routes:r,future:e,state:i}){return pv(r,void 0,i,e)}function Xu(r){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iS({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ee(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Ls(i));let{pathname:p="/",search:y="",hash:T="",state:b=null,key:C="default"}=i,N=Q.useMemo(()=>{let z=xr(p,d);return z==null?null:{location:{pathname:z,search:y,hash:T,state:b,key:C},navigationType:s}},[d,p,y,T,b,C,s]);return li(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:Q.createElement(hi.Provider,{value:m},Q.createElement(mo.Provider,{children:e,value:N}))}function rS({children:r,location:e}){return FA(fd(r),e)}function fd(r,e=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,fd(s.props.children,c));return}ee(s.type===Xu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=fd(s.props.children,c)),i.push(d)}),i}var Zu="get",Wu="application/x-www-form-urlencoded";function wc(r){return r!=null&&typeof r.tagName=="string"}function aS(r){return wc(r)&&r.tagName.toLowerCase()==="button"}function sS(r){return wc(r)&&r.tagName.toLowerCase()==="form"}function lS(r){return wc(r)&&r.tagName.toLowerCase()==="input"}function oS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function uS(r,e){return r.button===0&&(!e||e==="_self")&&!oS(r)}var Hu=null;function cS(){if(Hu===null)try{new FormData(document.createElement("form"),0),Hu=!1}catch{Hu=!0}return Hu}var hS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(r){return r!=null&&!hS.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):r}function fS(r,e){let i,s,o,c,d;if(sS(r)){let m=r.getAttribute("action");s=m?xr(m,e):null,i=r.getAttribute("method")||Zu,o=Jf(r.getAttribute("enctype"))||Wu,c=new FormData(r)}else if(aS(r)||lS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?xr(p,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Zu,o=Jf(r.getAttribute("formenctype"))||Jf(m.getAttribute("enctype"))||Wu,c=new FormData(m,r),!cS()){let{name:y,type:T,value:b}=r;if(T==="image"){let C=y?`${y}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else y&&c.append(y,b)}}else{if(wc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Zu,s=null,o=Wu,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Bd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function dS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await dS(c,i);return d.links?d.links():[]}return[]}));return vS(s.flat(1).filter(mS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fy(r,e,i,s,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function pS(r,e,{includeHydrateFallback:i}={}){return yS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function yS(r){return[...new Set(r)]}function _S(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function vS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(_S(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function ES(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function TS(){let r=Q.useContext(Ps);return Bd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AS(){let r=Q.useContext(bc);return Bd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qd=Q.createContext(void 0);qd.displayName="FrameworkContext";function _v(){let r=Q.useContext(qd);return Bd(r,"You must render this element inside a <HydratedRouter> element"),r}function SS(r,e){let i=Q.useContext(qd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,C=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=X=>{X.forEach(et=>{d(et.isIntersecting)})},j=new IntersectionObserver(K,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let N=()=>{o(!0)},z=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,C,{}]:[c,C,{onFocus:Xl(m,N),onBlur:Xl(p,z),onMouseEnter:Xl(y,N),onMouseLeave:Xl(T,z),onTouchStart:Xl(b,N)}]:[!1,C,{}]}function Xl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function bS({page:r,...e}){let{router:i}=TS(),s=Q.useMemo(()=>lv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(RS,{page:r,matches:s,...e}):null}function wS(r){let{manifest:e,routeModules:i}=_v(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return gS(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function RS({page:r,matches:e,...i}){let s=Va(),{manifest:o,routeModules:c}=_v(),{loaderData:d,matches:m}=AS(),p=Q.useMemo(()=>Fy(r,e,m,o,s,"data"),[r,e,m,o,s]),y=Q.useMemo(()=>Fy(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,z=!1;if(e.forEach(j=>{var et;let X=o.routes[j.route.id];!X||!X.hasLoader||(!p.some(tt=>tt.route.id===j.route.id)&&j.route.id in d&&((et=c[j.route.id])!=null&&et.shouldRevalidate)||X.hasClientLoader?z=!0:N.add(j.route.id))}),N.size===0)return[];let K=ES(r);return z&&N.size>0&&K.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[K.pathname+K.search]},[d,s,o,p,e,r,c]),b=Q.useMemo(()=>pS(y,o),[y,o]),C=wS(y);return Q.createElement(Q.Fragment,null,T.map(N=>Q.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...i})),b.map(N=>Q.createElement("link",{key:N,rel:"modulepreload",href:N,...i})),C.map(({key:N,link:z})=>Q.createElement("link",{key:N,...z})))}function CS(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vv&&(window.__reactRouterVersion="7.2.0")}catch{}function DS({basename:r,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=pA({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),m=Q.useCallback(p=>{Q.startTransition(()=>d(p))},[d]);return Q.useLayoutEffect(()=>o.listen(m),[o,m]),Q.createElement(iS,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jd=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:T,viewTransition:b,...C},N){let{basename:z}=Q.useContext(hi),K=typeof y=="string"&&Ev.test(y),j,X=!1;if(typeof y=="string"&&K&&(j=y,vv))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),M=xr(I.pathname,z);I.origin===S.origin&&M!=null?y=M+I.search+I.hash:X=!0}catch{li(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=jA(y,{relative:o}),[tt,vt,ct]=SS(s,C),Rt=OS(y,{replace:d,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function x(S){e&&e(S),S.defaultPrevented||Rt(S)}let R=Q.createElement("a",{...C,...ct,href:j||et,onClick:X||c?e:x,ref:CS(N,vt),target:p,"data-discover":!K&&i==="render"?"true":void 0});return tt&&!K?Q.createElement(Q.Fragment,null,R,Q.createElement(bS,{page:et})):R});jd.displayName="Link";var IS=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:m,children:p,...y},T){let b=po(d,{relative:y.relative}),C=Va(),N=Q.useContext(bc),{navigator:z,basename:K}=Q.useContext(hi),j=N!=null&&PS(b)&&m===!0,X=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,et=C.pathname,tt=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(et=et.toLowerCase(),tt=tt?tt.toLowerCase():null,X=X.toLowerCase()),tt&&K&&(tt=xr(tt,K)||tt);const vt=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ct=et===X||!o&&et.startsWith(X)&&et.charAt(vt)==="/",Rt=tt!=null&&(tt===X||!o&&tt.startsWith(X)&&tt.charAt(X.length)==="/"),x={isActive:ct,isPending:Rt,isTransitioning:j},R=ct?e:void 0,S;typeof s=="function"?S=s(x):S=[s,ct?"active":null,Rt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(x):c;return Q.createElement(jd,{...y,"aria-current":R,className:S,ref:T,style:I,to:d,viewTransition:m},typeof p=="function"?p(x):p)});IS.displayName="NavLink";var VS=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=Zu,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:b,...C},N)=>{let z=US(),K=LS(m,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&Ev.test(m),et=tt=>{if(p&&p(tt),tt.defaultPrevented)return;tt.preventDefault();let vt=tt.nativeEvent.submitter,ct=(vt==null?void 0:vt.getAttribute("formmethod"))||d;z(vt||tt.currentTarget,{fetcherKey:e,method:ct,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:b})};return Q.createElement("form",{ref:N,method:j,action:K,onSubmit:s?p:et,...C,"data-discover":!X&&r==="render"?"true":void 0})});VS.displayName="Form";function NS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(r){let e=Q.useContext(Ps);return ee(e,NS(r)),e}function OS(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let m=Pd(),p=Va(),y=po(r,{relative:c});return Q.useCallback(T=>{if(uS(T,e)){T.preventDefault();let b=i!==void 0?i:ao(p)===ao(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[p,m,y,i,s,e,r,o,c,d])}var MS=0,xS=()=>`__${String(++MS)}__`;function US(){let{router:r}=Tv("useSubmit"),{basename:e}=Q.useContext(hi),i=JA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=fS(s,e);if(o.navigate===!1){let T=o.fetcherKey||xS();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function LS(r,{relative:e}={}){let{basename:i}=Q.useContext(hi),s=Q.useContext(Fi);ee(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...po(r||".",{relative:e})},d=Va();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:zi([i,c.pathname])),ao(c)}function PS(r,e={}){let i=Q.useContext(dv);ee(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Tv("useViewTransitionState"),o=po(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=xr(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=xr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return ac(o.pathname,d)!=null||ac(o.pathname,c)!=null}new TextEncoder;const Gy="/WhatsTheMove/assets/beer-8aaz-1xE.png";var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},kS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,m=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,b=(c&3)<<4|m>>4;let C=(m&15)<<2|y>>6,N=y&63;p||(N=64,d||(C=64)),s.push(i[T],i[b],i[C],i[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new zS;const C=c<<2|m>>4;if(s.push(C),y!==64){const N=m<<4&240|y>>2;if(s.push(N),b!==64){const z=y<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class zS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BS=function(r){const e=Av(r);return Sv.encodeByteArray(e,!0)},sc=function(r){return BS(r).replace(/\./g,"")},qS=function(r){try{return Sv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=()=>jS().__FIREBASE_DEFAULTS__,FS=()=>{if(typeof process>"u"||typeof Qy>"u")return;const r=Qy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},GS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qS(r[1]);return e&&JSON.parse(e)},Hd=()=>{try{return HS()||FS()||GS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QS=r=>{var e,i;return(i=(e=Hd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},KS=r=>{const e=QS(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},bv=()=>{var r;return(r=Hd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZS(){var r;const e=(r=Hd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JS(){return!ZS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wv(){try{return typeof indexedDB=="object"}catch{return!1}}function Rv(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}function tb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="FirebaseError";class jr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=eb,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rc.prototype.create)}}class Rc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?nb(c,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new jr(o,m,s)}}function nb(r,e){return r.replace(ib,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ib=/\{\$([^}]+)}/g;function lc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Ky(c)&&Ky(d)){if(!lc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Ky(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=1e3,ab=2,sb=4*60*60*1e3,lb=.5;function Yy(r,e=rb,i=ab){const s=e*Math.pow(i,r),o=Math.round(lb*s*(Math.random()-.5)*2);return Math.min(sb,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r){return r&&r._delegate?r._delegate:r}class Bi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new YS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cb(e))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sa){return this.instances.has(e)}getOptions(e=Sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ub(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Sa){return this.component?this.component.multipleInstances?e:Sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ub(r){return r===Sa?void 0:r}function cb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new ob(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const fb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},db=Pt.INFO,mb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},gb=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=mb[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fd{constructor(e){this.name=e,this._logLevel=db,this._logHandler=gb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const pb=(r,e)=>e.some(i=>r instanceof i);let $y,Xy;function yb(){return $y||($y=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _b(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cv=new WeakMap,dd=new WeakMap,Dv=new WeakMap,td=new WeakMap,Gd=new WeakMap;function vb(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ir(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Cv.set(i,r)}).catch(()=>{}),Gd.set(e,r),e}function Eb(r){if(dd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});dd.set(r,e)}let md={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return dd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Dv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ir(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Tb(r){md=r(md)}function Ab(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(ed(this),e,...i);return Dv.set(s,e.sort?e.sort():[e]),Ir(s)}:_b().includes(r)?function(...e){return r.apply(ed(this),e),Ir(Cv.get(this))}:function(...e){return Ir(r.apply(ed(this),e))}}function Sb(r){return typeof r=="function"?Ab(r):(r instanceof IDBTransaction&&Eb(r),pb(r,yb())?new Proxy(r,md):r)}function Ir(r){if(r instanceof IDBRequest)return vb(r);if(td.has(r))return td.get(r);const e=Sb(r);return e!==r&&(td.set(r,e),Gd.set(e,r)),e}const ed=r=>Gd.get(r);function Iv(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),m=Ir(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ir(d.result),p.oldVersion,p.newVersion,Ir(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const bb=["get","getKey","getAll","getAllKeys","count"],wb=["put","add","delete","clear"],nd=new Map;function Zy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(nd.get(e))return nd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=wb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||bb.includes(i)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return nd.set(e,c),c}Tb(r=>({...r,get:(e,i,s)=>Zy(e,i)||r.get(e,i,s),has:(e,i)=>!!Zy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Cb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Cb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gd="@firebase/app",Wy="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new Fd("@firebase/app"),Db="@firebase/app-compat",Ib="@firebase/analytics-compat",Vb="@firebase/analytics",Nb="@firebase/app-check-compat",Ob="@firebase/app-check",Mb="@firebase/auth",xb="@firebase/auth-compat",Ub="@firebase/database",Lb="@firebase/data-connect",Pb="@firebase/database-compat",kb="@firebase/functions",zb="@firebase/functions-compat",Bb="@firebase/installations",qb="@firebase/installations-compat",jb="@firebase/messaging",Hb="@firebase/messaging-compat",Fb="@firebase/performance",Gb="@firebase/performance-compat",Qb="@firebase/remote-config",Kb="@firebase/remote-config-compat",Yb="@firebase/storage",$b="@firebase/storage-compat",Xb="@firebase/firestore",Zb="@firebase/vertexai",Wb="@firebase/firestore-compat",Jb="firebase",tw="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",ew={[gd]:"fire-core",[Db]:"fire-core-compat",[Vb]:"fire-analytics",[Ib]:"fire-analytics-compat",[Ob]:"fire-app-check",[Nb]:"fire-app-check-compat",[Mb]:"fire-auth",[xb]:"fire-auth-compat",[Ub]:"fire-rtdb",[Lb]:"fire-data-connect",[Pb]:"fire-rtdb-compat",[kb]:"fire-fn",[zb]:"fire-fn-compat",[Bb]:"fire-iid",[qb]:"fire-iid-compat",[jb]:"fire-fcm",[Hb]:"fire-fcm-compat",[Fb]:"fire-perf",[Gb]:"fire-perf-compat",[Qb]:"fire-rc",[Kb]:"fire-rc-compat",[Yb]:"fire-gcs",[$b]:"fire-gcs-compat",[Xb]:"fire-fst",[Wb]:"fire-fst-compat",[Zb]:"fire-vertex","fire-js":"fire-js",[Jb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,nw=new Map,yd=new Map;function Jy(r,e){try{r.container.addComponent(e)}catch(i){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Ur(r){const e=r.name;if(yd.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;yd.set(e,r);for(const i of oc.values())Jy(i,r);for(const i of nw.values())Jy(i,r);return!0}function yo(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function iw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Rc("app","Firebase",rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=tw;function Vv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:pd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(i||(i=bv()),!i)throw Vr.create("no-options");const c=oc.get(o);if(c){if(lc(i,c.options)&&lc(s,c.config))return c;throw Vr.create("duplicate-app",{appName:o})}const d=new hb(o);for(const p of yd.values())d.addComponent(p);const m=new aw(i,s,d);return oc.set(o,m),m}function Nv(r=pd){const e=oc.get(r);if(!e&&r===pd&&bv())return Vv();if(!e)throw Vr.create("no-app",{appName:r});return e}function ii(r,e,i){var s;let o=(s=ew[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(m.join(" "));return}Ur(new Bi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="firebase-heartbeat-database",ow=1,so="firebase-heartbeat-store";let id=null;function Ov(){return id||(id=Iv(lw,ow,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),id}async function uw(r){try{const i=(await Ov()).transaction(so),s=await i.objectStore(so).get(Mv(r));return await i.done,s}catch(e){if(e instanceof jr)qi.warn(e.message);else{const i=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(i.message)}}}async function t_(r,e){try{const s=(await Ov()).transaction(so,"readwrite");await s.objectStore(so).put(e,Mv(r)),await s.done}catch(i){if(i instanceof jr)qi.warn(i.message);else{const s=Vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(s.message)}}}function Mv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=1024,hw=30;class fw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=e_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>hw){const d=gw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=e_(),{heartbeatsToSend:s,unsentEntries:o}=dw(this._heartbeatsCache.heartbeats),c=sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function e_(){return new Date().toISOString().substring(0,10)}function dw(r,e=cw){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),n_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wv()?Rv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return t_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function n_(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function gw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){Ur(new Bi("platform-logger",e=>new Rb(e),"PRIVATE")),Ur(new Bi("heartbeat",e=>new fw(e),"PRIVATE")),ii(gd,Wy,r),ii(gd,Wy,"esm2017"),ii("fire-js","")}pw("");var yw="firebase",_w="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(yw,_w,"app");const xv="@firebase/installations",Qd="0.6.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=1e4,Lv=`w:${Qd}`,Pv="FIS_v2",vw="https://firebaseinstallations.googleapis.com/v1",Ew=60*60*1e3,Tw="installations",Aw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ra=new Rc(Tw,Aw,Sw);function kv(r){return r instanceof jr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv({projectId:r}){return`${vw}/projects/${r}/installations`}function Bv(r){return{token:r.token,requestStatus:2,expiresIn:ww(r.expiresIn),creationTime:Date.now()}}async function qv(r,e){const s=(await e.json()).error;return Ra.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function jv({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function bw(r,{refreshToken:e}){const i=jv(r);return i.append("Authorization",Rw(e)),i}async function Hv(r){const e=await r();return e.status>=500&&e.status<600?r():e}function ww(r){return Number(r.replace("s","000"))}function Rw(r){return`${Pv} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=zv(r),o=jv(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:i,authVersion:Pv,appId:r.appId,sdkVersion:Lv},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await Hv(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Bv(y.authToken)}}else throw await qv("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=/^[cdef][\w-]{21}$/,_d="";function Vw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Nw(r);return Iw.test(i)?i:_d}catch{return _d}}function Nw(r){return Dw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;function Qv(r,e){const i=Cc(r);Kv(i,e),Ow(i,e)}function Kv(r,e){const i=Gv.get(r);if(i)for(const s of i)s(e)}function Ow(r,e){const i=Mw();i&&i.postMessage({key:r,fid:e}),xw()}let ba=null;function Mw(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=r=>{Kv(r.data.key,r.data.fid)}),ba}function xw(){Gv.size===0&&ba&&(ba.close(),ba=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="firebase-installations-database",Lw=1,Ca="firebase-installations-store";let rd=null;function Kd(){return rd||(rd=Iv(Uw,Lw,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ca)}}})),rd}async function uc(r,e){const i=Cc(r),o=(await Kd()).transaction(Ca,"readwrite"),c=o.objectStore(Ca),d=await c.get(i);return await c.put(e,i),await o.done,(!d||d.fid!==e.fid)&&Qv(r,e.fid),e}async function Yv(r){const e=Cc(r),s=(await Kd()).transaction(Ca,"readwrite");await s.objectStore(Ca).delete(e),await s.done}async function Dc(r,e){const i=Cc(r),o=(await Kd()).transaction(Ca,"readwrite"),c=o.objectStore(Ca),d=await c.get(i),m=e(d);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!d||d.fid!==m.fid)&&Qv(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(r){let e;const i=await Dc(r.appConfig,s=>{const o=Pw(s),c=kw(r,o);return e=c.registrationPromise,c.installationEntry});return i.fid===_d?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Pw(r){const e=r||{fid:Vw(),registrationStatus:0};return $v(e)}function kw(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ra.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=zw(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Bw(r)}:{installationEntry:e}}async function zw(r,e){try{const i=await Cw(r,e);return uc(r.appConfig,i)}catch(i){throw kv(i)&&i.customData.serverCode===409?await Yv(r.appConfig):await uc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Bw(r){let e=await i_(r.appConfig);for(;e.registrationStatus===1;)await Fv(100),e=await i_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await Yd(r);return s||i}return e}function i_(r){return Dc(r,e=>{if(!e)throw Ra.create("installation-not-found");return $v(e)})}function $v(r){return qw(r)?{fid:r.fid,registrationStatus:0}:r}function qw(r){return r.registrationStatus===1&&r.registrationTime+Uv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw({appConfig:r,heartbeatServiceProvider:e},i){const s=Hw(r,i),o=bw(r,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:Lv,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await Hv(()=>fetch(s,m));if(p.ok){const y=await p.json();return Bv(y)}else throw await qv("Generate Auth Token",p)}function Hw(r,{fid:e}){return`${zv(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $d(r,e=!1){let i;const s=await Dc(r.appConfig,c=>{if(!Xv(c))throw Ra.create("not-registered");const d=c.authToken;if(!e&&Qw(d))return c;if(d.requestStatus===1)return i=Fw(r,e),c;{if(!navigator.onLine)throw Ra.create("app-offline");const m=Yw(c);return i=Gw(r,m),m}});return i?await i:s.authToken}async function Fw(r,e){let i=await r_(r.appConfig);for(;i.authToken.requestStatus===1;)await Fv(100),i=await r_(r.appConfig);const s=i.authToken;return s.requestStatus===0?$d(r,e):s}function r_(r){return Dc(r,e=>{if(!Xv(e))throw Ra.create("not-registered");const i=e.authToken;return $w(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Gw(r,e){try{const i=await jw(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await uc(r.appConfig,s),i}catch(i){if(kv(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await Yv(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await uc(r.appConfig,s)}throw i}}function Xv(r){return r!==void 0&&r.registrationStatus===2}function Qw(r){return r.requestStatus===2&&!Kw(r)}function Kw(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+Ew}function Yw(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function $w(r){return r.requestStatus===1&&r.requestTime+Uv<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(r){const e=r,{installationEntry:i,registrationPromise:s}=await Yd(e);return s?s.catch(console.error):$d(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(r,e=!1){const i=r;return await Ww(i),(await $d(i,e)).token}async function Ww(r){const{registrationPromise:e}=await Yd(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(r){if(!r||!r.options)throw ad("App Configuration");if(!r.name)throw ad("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw ad(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function ad(r){return Ra.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="installations",t1="installations-internal",e1=r=>{const e=r.getProvider("app").getImmediate(),i=Jw(e),s=yo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},n1=r=>{const e=r.getProvider("app").getImmediate(),i=yo(e,Zv).getImmediate();return{getId:()=>Xw(i),getToken:o=>Zw(i,o)}};function i1(){Ur(new Bi(Zv,e1,"PUBLIC")),Ur(new Bi(t1,n1,"PRIVATE"))}i1();ii(xv,Qd);ii(xv,Qd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="analytics",r1="firebase_id",a1="origin",s1=60*1e3,l1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xd="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new Fd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Rc("analytics","Analytics",o1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r){if(!r.startsWith(Xd)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function Wv(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function c1(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function h1(r,e){const i=c1("firebase-js-sdk-policy",{createScriptURL:u1}),s=document.createElement("script"),o=`${Xd}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function f1(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function d1(r,e,i,s,o,c){const d=s[o];try{if(d)await e[d];else{const p=(await Wv(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){sn.error(m)}r("config",o,c)}async function m1(r,e,i,s,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await Wv(i);for(const p of d){const y=m.find(b=>b.measurementId===p),T=y&&e[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){sn.error(c)}}function g1(r,e,i,s){async function o(c,...d){try{if(c==="event"){const[m,p]=d;await m1(r,e,i,m,p)}else if(c==="config"){const[m,p]=d;await d1(r,e,i,s,m,p)}else if(c==="consent"){const[m,p]=d;r("consent",m,p)}else if(c==="get"){const[m,p,y]=d;r("get",m,p,y)}else if(c==="set"){const[m]=d;r("set",m)}else r(c,...d)}catch(m){sn.error(m)}}return o}function p1(r,e,i,s,o){let c=function(...d){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=g1(c,r,e,i),{gtagCore:c,wrappedGtag:window[o]}}function y1(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(Xd)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=30,v1=1e3;class E1{constructor(e={},i=v1){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Jv=new E1;function T1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function A1(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:T1(s)},c=l1.replace("{app-id}",i),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let m="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function S1(r,e=Jv,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw gn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw gn.create("no-api-key")}const d=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new R1;return setTimeout(async()=>{m.abort()},s1),tE({appId:s,apiKey:o,measurementId:c},d,m,e)}async function tE(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=Jv){var c;const{appId:d,measurementId:m}=r;try{await b1(s,e)}catch(p){if(m)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw p}try{const p=await A1(r);return o.deleteThrottleMetadata(d),p}catch(p){const y=p;if(!w1(y)){if(o.deleteThrottleMetadata(d),m)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw p}const T=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?Yy(i,o.intervalMillis,_1):Yy(i,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+T,backoffCount:i+1};return o.setThrottleMetadata(d,b),sn.debug(`Calling attemptFetch again in ${T} millis`),tE(r,b,s,o)}}function b1(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function w1(r){if(!(r instanceof jr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class R1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function C1(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await e,d=Object.assign(Object.assign({},s),{send_to:c});r("event",i,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1(){if(wv())try{await Rv()}catch(r){return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function I1(r,e,i,s,o,c,d){var m;const p=S1(r);p.then(N=>{i[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>sn.error(N)),e.push(p);const y=D1().then(N=>{if(N)return s.getId()}),[T,b]=await Promise.all([p,y]);y1(c)||h1(c,T.measurementId),o("js",new Date);const C=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return C[a1]="firebase",C.update=!0,b!=null&&(C[r1]=b),o("config",T.measurementId,C),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.app=e}_delete(){return delete to[this.app.options.appId],Promise.resolve()}}let to={},a_=[];const s_={};let sd="dataLayer",N1="gtag",l_,eE,o_=!1;function O1(){const r=[];if(WS()&&r.push("This is a browser extension environment."),tb()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=gn.create("invalid-analytics-context",{errorInfo:e});sn.warn(i.message)}}function M1(r,e,i){O1();const s=r.options.appId;if(!s)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(to[s]!=null)throw gn.create("already-exists",{id:s});if(!o_){f1(sd);const{wrappedGtag:c,gtagCore:d}=p1(to,a_,s_,sd,N1);eE=c,l_=d,o_=!0}return to[s]=I1(r,a_,s_,e,l_,sd,i),new V1(r)}function x1(r=Nv()){r=oi(r);const e=yo(r,cc);return e.isInitialized()?e.getImmediate():U1(r)}function U1(r,e={}){const i=yo(r,cc);if(i.isInitialized()){const o=i.getImmediate();if(lc(e,i.getOptions()))return o;throw gn.create("already-initialized")}return i.initialize({options:e})}function L1(r,e,i,s){r=oi(r),C1(eE,to[r.app.options.appId],e,i,s).catch(o=>sn.error(o))}const u_="@firebase/analytics",c_="0.10.11";function P1(){Ur(new Bi(cc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return M1(s,o,i)},"PUBLIC")),Ur(new Bi("analytics-internal",r,"PRIVATE")),ii(u_,c_),ii(u_,c_,"esm2017");function r(e){try{const i=e.getProvider(cc).getImmediate();return{logEvent:(s,o,c)=>L1(i,s,o,c)}}catch(i){throw gn.create("interop-component-reg-failed",{reason:i})}}}P1();var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,nE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function S(){}S.prototype=R.prototype,x.D=R.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(I,M,k){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return R.prototype[M].apply(I,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)I[M]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(M=0;16>M;++M)I[M]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=x.g[0],S=x.g[1],M=x.g[2];var k=x.g[3],D=R+(k^S&(M^k))+I[0]+3614090360&4294967295;R=S+(D<<7&4294967295|D>>>25),D=k+(M^R&(S^M))+I[1]+3905402710&4294967295,k=R+(D<<12&4294967295|D>>>20),D=M+(S^k&(R^S))+I[2]+606105819&4294967295,M=k+(D<<17&4294967295|D>>>15),D=S+(R^M&(k^R))+I[3]+3250441966&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(k^S&(M^k))+I[4]+4118548399&4294967295,R=S+(D<<7&4294967295|D>>>25),D=k+(M^R&(S^M))+I[5]+1200080426&4294967295,k=R+(D<<12&4294967295|D>>>20),D=M+(S^k&(R^S))+I[6]+2821735955&4294967295,M=k+(D<<17&4294967295|D>>>15),D=S+(R^M&(k^R))+I[7]+4249261313&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(k^S&(M^k))+I[8]+1770035416&4294967295,R=S+(D<<7&4294967295|D>>>25),D=k+(M^R&(S^M))+I[9]+2336552879&4294967295,k=R+(D<<12&4294967295|D>>>20),D=M+(S^k&(R^S))+I[10]+4294925233&4294967295,M=k+(D<<17&4294967295|D>>>15),D=S+(R^M&(k^R))+I[11]+2304563134&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(k^S&(M^k))+I[12]+1804603682&4294967295,R=S+(D<<7&4294967295|D>>>25),D=k+(M^R&(S^M))+I[13]+4254626195&4294967295,k=R+(D<<12&4294967295|D>>>20),D=M+(S^k&(R^S))+I[14]+2792965006&4294967295,M=k+(D<<17&4294967295|D>>>15),D=S+(R^M&(k^R))+I[15]+1236535329&4294967295,S=M+(D<<22&4294967295|D>>>10),D=R+(M^k&(S^M))+I[1]+4129170786&4294967295,R=S+(D<<5&4294967295|D>>>27),D=k+(S^M&(R^S))+I[6]+3225465664&4294967295,k=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(k^R))+I[11]+643717713&4294967295,M=k+(D<<14&4294967295|D>>>18),D=S+(k^R&(M^k))+I[0]+3921069994&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^k&(S^M))+I[5]+3593408605&4294967295,R=S+(D<<5&4294967295|D>>>27),D=k+(S^M&(R^S))+I[10]+38016083&4294967295,k=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(k^R))+I[15]+3634488961&4294967295,M=k+(D<<14&4294967295|D>>>18),D=S+(k^R&(M^k))+I[4]+3889429448&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^k&(S^M))+I[9]+568446438&4294967295,R=S+(D<<5&4294967295|D>>>27),D=k+(S^M&(R^S))+I[14]+3275163606&4294967295,k=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(k^R))+I[3]+4107603335&4294967295,M=k+(D<<14&4294967295|D>>>18),D=S+(k^R&(M^k))+I[8]+1163531501&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(M^k&(S^M))+I[13]+2850285829&4294967295,R=S+(D<<5&4294967295|D>>>27),D=k+(S^M&(R^S))+I[2]+4243563512&4294967295,k=R+(D<<9&4294967295|D>>>23),D=M+(R^S&(k^R))+I[7]+1735328473&4294967295,M=k+(D<<14&4294967295|D>>>18),D=S+(k^R&(M^k))+I[12]+2368359562&4294967295,S=M+(D<<20&4294967295|D>>>12),D=R+(S^M^k)+I[5]+4294588738&4294967295,R=S+(D<<4&4294967295|D>>>28),D=k+(R^S^M)+I[8]+2272392833&4294967295,k=R+(D<<11&4294967295|D>>>21),D=M+(k^R^S)+I[11]+1839030562&4294967295,M=k+(D<<16&4294967295|D>>>16),D=S+(M^k^R)+I[14]+4259657740&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^k)+I[1]+2763975236&4294967295,R=S+(D<<4&4294967295|D>>>28),D=k+(R^S^M)+I[4]+1272893353&4294967295,k=R+(D<<11&4294967295|D>>>21),D=M+(k^R^S)+I[7]+4139469664&4294967295,M=k+(D<<16&4294967295|D>>>16),D=S+(M^k^R)+I[10]+3200236656&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^k)+I[13]+681279174&4294967295,R=S+(D<<4&4294967295|D>>>28),D=k+(R^S^M)+I[0]+3936430074&4294967295,k=R+(D<<11&4294967295|D>>>21),D=M+(k^R^S)+I[3]+3572445317&4294967295,M=k+(D<<16&4294967295|D>>>16),D=S+(M^k^R)+I[6]+76029189&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(S^M^k)+I[9]+3654602809&4294967295,R=S+(D<<4&4294967295|D>>>28),D=k+(R^S^M)+I[12]+3873151461&4294967295,k=R+(D<<11&4294967295|D>>>21),D=M+(k^R^S)+I[15]+530742520&4294967295,M=k+(D<<16&4294967295|D>>>16),D=S+(M^k^R)+I[2]+3299628645&4294967295,S=M+(D<<23&4294967295|D>>>9),D=R+(M^(S|~k))+I[0]+4096336452&4294967295,R=S+(D<<6&4294967295|D>>>26),D=k+(S^(R|~M))+I[7]+1126891415&4294967295,k=R+(D<<10&4294967295|D>>>22),D=M+(R^(k|~S))+I[14]+2878612391&4294967295,M=k+(D<<15&4294967295|D>>>17),D=S+(k^(M|~R))+I[5]+4237533241&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~k))+I[12]+1700485571&4294967295,R=S+(D<<6&4294967295|D>>>26),D=k+(S^(R|~M))+I[3]+2399980690&4294967295,k=R+(D<<10&4294967295|D>>>22),D=M+(R^(k|~S))+I[10]+4293915773&4294967295,M=k+(D<<15&4294967295|D>>>17),D=S+(k^(M|~R))+I[1]+2240044497&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~k))+I[8]+1873313359&4294967295,R=S+(D<<6&4294967295|D>>>26),D=k+(S^(R|~M))+I[15]+4264355552&4294967295,k=R+(D<<10&4294967295|D>>>22),D=M+(R^(k|~S))+I[6]+2734768916&4294967295,M=k+(D<<15&4294967295|D>>>17),D=S+(k^(M|~R))+I[13]+1309151649&4294967295,S=M+(D<<21&4294967295|D>>>11),D=R+(M^(S|~k))+I[4]+4149444226&4294967295,R=S+(D<<6&4294967295|D>>>26),D=k+(S^(R|~M))+I[11]+3174756917&4294967295,k=R+(D<<10&4294967295|D>>>22),D=M+(R^(k|~S))+I[2]+718787259&4294967295,M=k+(D<<15&4294967295|D>>>17),D=S+(k^(M|~R))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+k&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var S=R-this.blockSize,I=this.B,M=this.h,k=0;k<R;){if(M==0)for(;k<=S;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<R;)if(I[M++]=x.charCodeAt(k++),M==this.blockSize){o(this,I),M=0;break}}else for(;k<R;)if(I[M++]=x[k++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var S=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=S&255,S/=256;for(this.u(x),x=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)x[S++]=this.g[R]>>>I&255;return x};function c(x,R){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=R(x)}function d(x,R){this.h=R;for(var S=[],I=!0,M=x.length-1;0<=M;M--){var k=x[M]|0;I&&k==R||(S[M]=k,I=!1)}this.g=S}var m={};function p(x){return-128<=x&&128>x?c(x,function(R){return new d([R|0],0>R?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return b;if(0>x)return j(y(-x));for(var R=[],S=1,I=0;x>=S;I++)R[I]=x/S|0,S*=4294967296;return new d(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return j(T(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(R,8)),I=b,M=0;M<x.length;M+=8){var k=Math.min(8,x.length-M),D=parseInt(x.substring(M,M+k),R);8>k?(k=y(Math.pow(R,k)),I=I.j(k).add(y(D))):(I=I.j(S),I=I.add(y(D)))}return I}var b=p(0),C=p(1),N=p(16777216);r=d.prototype,r.m=function(){if(K(this))return-j(this).m();for(var x=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);x+=(0<=I?I:4294967296+I)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(K(this))return"-"+j(this).toString(x);for(var R=y(Math.pow(x,6)),S=this,I="";;){var M=vt(S,R).g;S=X(S,M.j(R));var k=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=M,z(S))return k+I;for(;6>k.length;)k="0"+k;I=k+I}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function K(x){return x.h==-1}r.l=function(x){return x=X(this,x),K(x)?-1:z(x)?0:1};function j(x){for(var R=x.g.length,S=[],I=0;I<R;I++)S[I]=~x.g[I];return new d(S,~x.h).add(C)}r.abs=function(){return K(this)?j(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],I=0,M=0;M<=R;M++){var k=I+(this.i(M)&65535)+(x.i(M)&65535),D=(k>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);I=D>>>16,k&=65535,D&=65535,S[M]=D<<16|k}return new d(S,S[S.length-1]&-2147483648?-1:0)};function X(x,R){return x.add(j(R))}r.j=function(x){if(z(this)||z(x))return b;if(K(this))return K(x)?j(this).j(j(x)):j(j(this).j(x));if(K(x))return j(this.j(j(x)));if(0>this.l(N)&&0>x.l(N))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<x.g.length;M++){var k=this.i(I)>>>16,D=this.i(I)&65535,ye=x.i(M)>>>16,he=x.i(M)&65535;S[2*I+2*M]+=D*he,et(S,2*I+2*M),S[2*I+2*M+1]+=k*he,et(S,2*I+2*M+1),S[2*I+2*M+1]+=D*ye,et(S,2*I+2*M+1),S[2*I+2*M+2]+=k*ye,et(S,2*I+2*M+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new d(S,0)};function et(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function tt(x,R){this.g=x,this.h=R}function vt(x,R){if(z(R))throw Error("division by zero");if(z(x))return new tt(b,b);if(K(x))return R=vt(j(x),R),new tt(j(R.g),j(R.h));if(K(R))return R=vt(x,j(R)),new tt(j(R.g),R.h);if(30<x.g.length){if(K(x)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var S=C,I=R;0>=I.l(x);)S=ct(S),I=ct(I);var M=Rt(S,1),k=Rt(I,1);for(I=Rt(I,2),S=Rt(S,2);!z(I);){var D=k.add(I);0>=D.l(x)&&(M=M.add(S),k=D),I=Rt(I,1),S=Rt(S,1)}return R=X(x,M.j(R)),new tt(M,R)}for(M=b;0<=x.l(R);){for(S=Math.max(1,Math.floor(x.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),k=y(S),D=k.j(R);K(D)||0<D.l(x);)S-=I,k=y(S),D=k.j(R);z(k)&&(k=C),M=M.add(k),x=X(x,D)}return new tt(M,x)}r.A=function(x){return vt(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&x.i(I);return new d(S,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|x.i(I);return new d(S,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^x.i(I);return new d(S,this.h^x.h)};function ct(x){for(var R=x.g.length+1,S=[],I=0;I<R;I++)S[I]=x.i(I)<<1|x.i(I-1)>>>31;return new d(S,x.h)}function Rt(x,R){var S=R>>5;R%=32;for(var I=x.g.length-S,M=[],k=0;k<I;k++)M[k]=0<R?x.i(k+S)>>>R|x.i(k+S+1)<<32-R:x.i(k+S);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,nE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Nr=d}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iE,Zl,rE,Ju,vd,aE,sE,lE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in _))break t;_=_[P]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,P={next:function(){if(!A&&_<u.length){var H=_++;return{value:g(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,_){return u.call.apply(u.bind,arguments)}function b(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(g,P)}}return function(){return u.apply(g,arguments)}}function C(u,g,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,C.apply(null,arguments)}function N(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function z(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,P,H){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return g.prototype[P].apply(A,nt)}}function K(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function j(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const P=u.length||0,H=A.length||0;u.length=P+H;for(let nt=0;nt<H;nt++)u[P+nt]=A[nt]}else u.push(A)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function et(u){return/^[\s\xa0]*$/.test(u)}function tt(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function vt(u){return vt[" "](u),u}vt[" "]=function(){};var ct=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function Rt(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function x(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let _,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(_ in A)u[_]=A[_];for(let H=0;H<S.length;H++)_=S[H],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function M(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function k(u){m.setTimeout(()=>{throw u},0)}function D(){var u=jt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,_){const A=he.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new X(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,mt=!1,jt=new ye,V=()=>{const u=m.Promise.resolve(void 0);yt=()=>{u.then(J)}};var J=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){k(_)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}mt=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function wt(u,g){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ct){t:{try{vt(g.nodeName);var P=!0;break t}catch{}P=!1}P||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}z(wt,rt);var St={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ie(u,g,_,A,P){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=P,this.key=++kt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,_,A,P){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var nt=pn(u,g,A,P);return-1<nt?(g=u[nt],_||(g.fa=!1)):(g=new ie(g,this.src,H,!!A,P),g.fa=_,u.push(g)),g};function fi(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],P=Array.prototype.indexOf.call(A,g,void 0),H;(H=0<=P)&&Array.prototype.splice.call(A,P,1),H&&(Gt(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function pn(u,g,_,A){for(var P=0;P<u.length;++P){var H=u[P];if(!H.da&&H.listener==g&&H.capture==!!_&&H.ha==A)return P}return-1}var Gi="closure_lm_"+(1e6*Math.random()|0),Qi={};function di(u,g,_,A,P){if(Array.isArray(g)){for(var H=0;H<g.length;H++)di(u,g[H],_,A,P);return null}return _=Ao(_),u&&u[fe]?u.K(g,_,y(A)?!!A.capture:!1,P):js(u,g,_,!1,A,P)}function js(u,g,_,A,P,H){if(!g)throw Error("Invalid event type");var nt=y(P)?!!P.capture:!!P,Mt=Hs(u);if(Mt||(u[Gi]=Mt=new Ye(u)),_=Mt.add(g,_,A,nt,H),_.proxy)return _;if(A=Ma(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)at||(P=nt),P===void 0&&(P=!1),u.addEventListener(g.toString(),A,P);else if(u.attachEvent)u.attachEvent(Ua(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ma(){function u(_){return g.call(u.src,u.listener,_)}const g=Kc;return u}function xa(u,g,_,A,P){if(Array.isArray(g))for(var H=0;H<g.length;H++)xa(u,g[H],_,A,P);else A=y(A)?!!A.capture:!!A,_=Ao(_),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],_=pn(H,_,A,P),-1<_&&(Gt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Hs(u))&&(g=u.g[g.toString()],u=-1,g&&(u=pn(g,_,A,P)),(_=-1<u?g[u]:null)&&Gr(_))}function Gr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])fi(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(Ua(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=Hs(g))?(fi(_,u),_.h==0&&(_.src=null,g[Gi]=null)):Gt(u)}}}function Ua(u){return u in Qi?Qi[u]:Qi[u]="on"+u}function Kc(u,g){if(u.da)u=!0;else{g=new wt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&Gr(u),u=_.call(A,g)}return u}function Hs(u){return u=u[Gi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ao(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function _e(){ut.call(this),this.i=new Ye(this),this.M=this,this.F=null}z(_e,ut),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,g,_,A){xa(this,u,g,_,A)};function Ce(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new rt(g,u);else if(g instanceof rt)g.target=g.target||u;else{var P=g;g=new rt(A,u),I(g,P)}if(P=!0,_)for(var H=_.length-1;0<=H;H--){var nt=g.g=_[H];P=mi(nt,A,!0,g)&&P}if(nt=g.g=u,P=mi(nt,A,!0,g)&&P,P=mi(nt,A,!1,g)&&P,_)for(H=0;H<_.length;H++)nt=g.g=_[H],P=mi(nt,A,!1,g)&&P}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)Gt(_[A]);delete u.g[g],u.h--}}this.F=null},_e.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},_e.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function mi(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,H=0;H<g.length;++H){var nt=g[H];if(nt&&!nt.da&&nt.capture==_){var Mt=nt.listener,Ee=nt.ha||nt.src;nt.fa&&fi(u.i,nt),P=Mt.call(Ee,A)!==!1&&P}}return P&&!A.defaultPrevented}function So(u,g,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Fs(u){u.g=So(()=>{u.g=null,u.i&&(u.i=!1,Fs(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Yc extends ut{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){ut.call(this),this.h=u,this.g={}}z(Qr,ut);var Ki=[];function je(u){Rt(u.g,function(g,_){this.g.hasOwnProperty(_)&&Gr(g)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),je(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gs=m.JSON.stringify,Bn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Qs(){}Qs.prototype.h=null;function bo(u){return u.h||(u.h=u.i())}function wo(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){rt.call(this,"d")}z(Yi,rt);function xn(){rt.call(this,"c")}z(xn,rt);var yn={},$i=null;function La(){return $i=$i||new _e}yn.La="serverreachability";function Ks(u){rt.call(this,yn.La,u)}z(Ks,rt);function Xi(u){const g=La();Ce(g,new Ks(g))}yn.STAT_EVENT="statevent";function Pa(u,g){rt.call(this,yn.STAT_EVENT,u),this.stat=g}z(Pa,rt);function oe(u){const g=La();Ce(g,new Pa(g,u))}yn.Ma="timingevent";function Ro(u,g){rt.call(this,yn.Ma,u),this.size=g}z(Ro,rt);function Zi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Wi(){this.g=!0}Wi.prototype.xa=function(){this.g=!1};function Co(u,g,_,A,P,H){u.info(function(){if(u.g)if(H)for(var nt="",Mt=H.split("&"),Ee=0;Ee<Mt.length;Ee++){var xt=Mt[Ee].split("=");if(1<xt.length){var Ve=xt[0];xt=xt[1];var Te=Ve.split("_");nt=2<=Te.length&&Te[1]=="type"?nt+(Ve+"="+xt+"&"):nt+(Ve+"=redacted&")}}else nt=null;else nt=H;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+g+`
`+_+`
`+nt})}function Do(u,g,_,A,P,H,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+g+`
`+_+`
`+H+" "+nt})}function Ji(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,_)+(A?" "+A:"")})}function jn(u,g){u.info(function(){return"TIMEOUT: "+g})}Wi.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var H=P[0];if(H!="noop"&&H!="stop"&&H!="close")for(var nt=1;nt<P.length;nt++)P[nt]=""}}}}return Gs(_)}catch{return g}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function ka(){}z(ka,Qs),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},Kr=new ka;function Hn(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}var tr={},Yr={};function Un(u,g,_){u.L=1,u.v=Zr(re(g)),u.m=_,u.P=!0,pi(u,null)}function pi(u,g){u.F=Date.now(),Wt(u),u.A=re(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),vi(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Ys,u.g=jo(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Yc(C(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(Ki[0]=P.toString()),P=Ki);for(var H=0;H<P.length;H++){var nt=di(_,P[H],A||g.handleEvent,!1,g.h||g);if(!nt)break;g.g[nt.key]=nt}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Xi(),Co(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const g=this.M;g&&An(u)==3?g.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=An(this.g);var g=this.g.Ba();const Si=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||xo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=Si?Xi(3):Xi(2)),za(this);var _=this.g.Z();this.X=_;e:if(er(this)){var A=xo(this.g);u="";var P=A.length,H=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),ln(this);var nt="";break e}this.h.i=new m.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(H&&g==P-1)});A.length=0,this.h.g+=u,this.C=0,nt=this.h.g}else nt=this.g.oa();if(this.o=_==200,Do(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Mt)){var xt=Mt;break e}}xt=null}if(_=xt)Ji(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,_);else{this.o=!1,this.s=3,oe(12),en(this),ln(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<nt.length;)if(Ue=nr(this,nt),Ue==Yr){Te==4&&(this.s=4,oe(14),_=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==tr){this.s=4,oe(15),Ji(this.i,this.l,nt,"[Invalid Chunk]"),_=!1;break}else Ji(this.i,this.l,Ue,null),on(this,Ue);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||nt.length!=0||this.h.h||(this.s=1,oe(16),_=!1),this.o=this.o&&_,!_)Ji(this.i,this.l,nt,"[Invalid Chunked Response]"),en(this),ln(this);else if(0<nt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+nt.length),ra(Ve),Ve.M=!0,oe(11))}}else Ji(this.i,this.l,nt,null),on(this,nt);Te==4&&en(this),this.o&&!this.J&&(Te==4?zo(this.j,this):(this.o=!1,Wt(this)))}else th(this.g),_==400&&0<nt.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),ln(this)}}}catch{}finally{}};function er(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nr(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Yr:(_=Number(g.substring(_,A)),isNaN(_)?tr:(A+=1,A+_>g.length?Yr:(g=g.slice(A,A+_),u.C=A+_,g)))}Hn.prototype.cancel=function(){this.J=!0,en(this)};function Wt(u){u.S=Date.now()+u.I,$s(u,u.I)}function $s(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zi(C(u.ba,u),g)}function za(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Xi(),oe(17)),en(this),this.s=2,ln(this)):$s(this,this.S-u)};function ln(u){u.j.G==0||u.J||zo(u.j,u)}function en(u){za(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,je(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function on(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||ir(_.h,u))){if(!u.K&&ir(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)$a(_),Ka(_);else break t;sl(_),oe(18)}}else _.za=P[1],0<_.za-_.T&&37500>P[2]&&_.F&&_.v==0&&!_.C&&(_.C=Zi(C(_.Za,_),6e3));if(1>=Io(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&$a(_),!et(g))for(P=_.Da.g.parse(g),g=0;g<P.length;g++){let xt=P[g];if(_.T=xt[0],xt=xt[1],_.G==2)if(xt[0]=="c"){_.K=xt[1],_.ia=xt[2];const Ve=xt[3];Ve!=null&&(_.la=Ve,_.j.info("VER="+_.la));const Te=xt[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Si=xt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Xn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var H=A.h;H.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(rr(H,H.h),H.h=null))}if(A.D){const ol=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(A.ya=ol,zt(A.I,A.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var nt=u;if(A.qa=qo(A,A.J?A.ia:null,A.W),nt.K){_n(A.h,nt);var Mt=nt,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(za(Mt),Wt(Mt)),A.g=nt}else Po(A);0<_.i.length&&Ya(_)}else xt[0]!="stop"&&xt[0]!="close"||Ai(_,7);else _.G==3&&(xt[0]=="stop"||xt[0]=="close"?xt[0]=="stop"?Ai(_,7):rl(_):xt[0]!="noop"&&_.l&&_.l.ta(xt),_.v=0)}}Xi(4)}catch{}}var $c=class{constructor(u,g){this.g=u,this.map=g}};function Xs(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Io(u){return u.h?1:u.g?u.g.size:0}function ir(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function rr(u,g){u.g?u.g.add(g):u.h=g}function _n(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Xs.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return K(u.i)}function Vo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Xc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function $r(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Xc(u),A=Vo(u),P=A.length,H=0;H<P;H++)g.call(void 0,A[H],_&&_[H],u)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),P=null;if(0<=A){var H=u[_].substring(0,A);P=u[_].substring(A+1)}else H=u[_];g(H,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function yi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yi){this.h=u.h,ar(this,u.j),this.o=u.o,this.g=u.g,Xr(this,u.s),this.l=u.l;var g=u.i,_=new Fn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),qa(this,_),this.m=u.m}else u&&(g=String(u).match(Ws))?(this.h=!1,ar(this,g[1]||"",!0),this.o=sr(g[2]||""),this.g=sr(g[3]||"",!0),Xr(this,g[4]),this.l=sr(g[5]||"",!0),qa(this,g[6]||"",!0),this.m=sr(g[7]||"")):(this.h=!1,this.i=new Fn(null,this.h))}yi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(vn(g,Js,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(vn(g,Js,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(vn(_,_.charAt(0)=="/"?tl:No,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",vn(_,Jc)),u.join("")};function re(u){return new yi(u)}function ar(u,g,_){u.j=_?sr(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Xr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function qa(u,g,_){g instanceof Fn?(u.i=g,el(u.i,u.h)):(_||(g=vn(g,Wc)),u.i=new Fn(g,u.h))}function zt(u,g,_){u.i.set(g,_)}function Zr(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function sr(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vn(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Zc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Zc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,No=/[#\?:]/g,tl=/[#\?]/g,Wc=/[#\?@]/g,Jc=/#/g;function Fn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Ba(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Fn.prototype,r.add=function(u,g){En(this),this.i=null,u=Ei(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function ja(u,g){En(u),g=Ei(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function _i(u,g){return En(u),g=Ei(u,g),u.g.has(g)}r.forEach=function(u,g){En(this),this.g.forEach(function(_,A){_.forEach(function(P){u.call(g,P,A,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const P=u[A];for(let H=0;H<P.length;H++)_.push(g[A])}return _},r.V=function(u){En(this);let g=[];if(typeof u=="string")_i(this,u)&&(g=g.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return En(this),this.i=null,u=Ei(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function vi(u,g,_){ja(u,g),0<_.length&&(u.i=null,u.g.set(Ei(u,g),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const H=encodeURIComponent(String(A)),nt=this.V(A);for(A=0;A<nt.length;A++){var P=H;nt[A]!==""&&(P+="="+encodeURIComponent(String(nt[A]))),u.push(P)}}return this.i=u.join("&")};function Ei(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function el(u,g){g&&!u.j&&(En(u),u.i=null,u.g.forEach(function(_,A){var P=A.toLowerCase();A!=P&&(ja(this,A),vi(this,P,_))},u)),u.j=g}function Oo(u,g){const _=new Wi;if(m.Image){const A=new Image;A.onload=N(Tn,_,"TestLoadImage: loaded",!0,g,A),A.onerror=N(Tn,_,"TestLoadImage: error",!1,g,A),A.onabort=N(Tn,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=N(Tn,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function Wr(u,g){const _=new Wi,A=new AbortController,P=setTimeout(()=>{A.abort(),Tn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(P),H.ok?Tn(_,"TestPingServer: ok",!0,g):Tn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Tn(_,"TestPingServer: error",!1,g)})}function Tn(u,g,_,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(_)}catch{}}function Jr(){this.g=new $e}function Gn(u,g,_){const A=_||"";try{$r(u,function(P,H){let nt=P;y(P)&&(nt=Gs(P)),g.push(A+H+"="+encodeURIComponent(nt))})}catch(P){throw g.push(A+"type="+encodeURIComponent("_badmap")),P}}function lr(u){this.l=u.Ub||null,this.j=u.eb||!1}z(lr,Qs),lr.prototype.g=function(){return new Ti(this.l,this.j)},lr.prototype.i=function(u){return function(){return u}}({});function Ti(u,g){_e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ti,_e),r=Ti.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Qn(this):Kn(this),this.readyState==3&&nl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let g="";return Rt(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Ie(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=il(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):zt(u,g,_))}function Ht(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ht,_e);var Ha=/^https?$/i,ta=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?bo(this.o):bo(Kr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Mo(this,H);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)_.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())_.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ta,g,void 0))||A||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of _)this.g.setRequestHeader(H,nt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Mo(this,H)}};function Mo(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Fa(u),Yn(u)}function Fa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Yn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ga(this):this.bb())},r.bb=function(){Ga(this)};function Ga(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)So(u.Ea,0,u);else if(Ce(u,"readystatechange"),An(u)==4){u.h=!1;try{const nt=u.Z();t:switch(nt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=nt===0){var P=String(u.D).match(Ws)[1]||null;!P&&m.self&&m.self.location&&(P=m.self.location.protocol.slice(0,-1)),A=!Ha.test(P?P.toLowerCase():"")}_=A}if(_)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var H=2<An(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Fa(u)}}finally{Yn(u)}}}}function Yn(u,g){if(u.g){ea(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{_.onreadystatechange=A}catch{}}}function ea(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Bn(g)}};function xo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function th(u){const g={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=M(u[A]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=g[P]||[];g[P]=H,H.push(_)}x(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function Qa(u){this.Aa=0,this.i=[],this.j=new Wi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,u),this.cb=na("retryDelaySeedMs",1e4,u),this.Wa=na("forwardChannelMaxRetries",2,u),this.wa=na("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Xs(u&&u.concurrentRequestLimit),this.Da=new Jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qa.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){oe(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=qo(this,null,this.W),Ya(this)};function rl(u){if(Uo(u),u.G==3){var g=u.U++,_=re(u.I);if(zt(_,"SID",u.K),zt(_,"RID",g),zt(_,"TYPE","terminate"),ia(u,_),g=new Hn(u,u.j,g),g.L=2,g.v=Zr(re(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=jo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Wt(g)}Bo(u)}function Ka(u){u.g&&(ra(u),u.g.cancel(),u.g=null)}function Uo(u){Ka(u),u.u&&(m.clearTimeout(u.u),u.u=null),$a(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Ya(u){if(!Zs(u.h)&&!u.s){u.s=!0;var g=u.Ga;yt||V(),mt||(yt(),mt=!0),jt.add(g,u),u.B=0}}function eh(u,g){return Io(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zi(C(u.Ga,u,g),ll(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Hn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),I(H,this.S)):H=this.S),this.m!==null||this.O||(P.H=H,H=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=Lo(this,P,g),_=re(this.I),zt(_,"RID",u),zt(_,"CVER",22),this.D&&zt(_,"X-HTTP-Session-Id",this.D),ia(this,_),H&&(this.O?g="headers="+encodeURIComponent(String(il(H)))+"&"+g:this.m&&Ie(_,this.m,H)),rr(this.h,P),this.Ua&&zt(_,"TYPE","init"),this.P?(zt(_,"$req",g),zt(_,"SID","null"),P.T=!0,Un(P,_,null)):Un(P,_,g),this.G=2}}else this.G==3&&(u?al(this,u):this.i.length==0||Zs(this.h)||al(this))};function al(u,g){var _;g?_=g.l:_=u.U++;const A=re(u.I);zt(A,"SID",u.K),zt(A,"RID",_),zt(A,"AID",u.T),ia(u,A),u.m&&u.o&&Ie(A,u.m,u.o),_=new Hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Lo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),rr(u.h,_),Un(_,A,g)}function ia(u,g){u.H&&Rt(u.H,function(_,A){zt(g,A,_)}),u.l&&$r({},function(_,A){zt(g,A,_)})}function Lo(u,g,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;t:{var P=u.i;let H=-1;for(;;){const nt=["count="+_];H==-1?0<_?(H=P[0].g,nt.push("ofs="+H)):H=0:nt.push("ofs="+H);let Mt=!0;for(let Ee=0;Ee<_;Ee++){let xt=P[Ee].g;const Ve=P[Ee].map;if(xt-=H,0>xt)H=Math.max(0,P[Ee].g-100),Mt=!1;else try{Gn(Ve,nt,"req"+xt+"_")}catch{A&&A(Ve)}}if(Mt){A=nt.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function Po(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;yt||V(),mt||(yt(),mt=!0),jt.add(g,u),u.v=0}}function sl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zi(C(u.Fa,u),ll(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ko(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zi(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),Ka(this),ko(this))};function ra(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function ko(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);zt(g,"RID","rpc"),zt(g,"SID",u.K),zt(g,"AID",u.T),zt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(g,"TO",u.ja),zt(g,"TYPE","xmlhttp"),ia(u,g),u.m&&u.o&&Ie(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Zr(re(g)),_.m=null,_.P=!0,pi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ka(this),sl(this),oe(19))};function $a(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function zo(u,g){var _=null;if(u.g==g){$a(u),ra(u),u.g=null;var A=2}else if(ir(u.h,g))_=g.D,_n(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var P=u.B;A=La(),Ce(A,new Ro(A,_)),Ya(u)}else Po(u);else if(P=g.s,P==3||P==0&&0<g.X||!(A==1&&eh(u,g)||A==2&&sl(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),P){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function ll(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Ai(u,g){if(u.j.info("Error code "+g),g==2){var _=C(u.fb,u),A=u.Xa;const P=!A;A=new yi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ar(A,"https"),Zr(A),P?Oo(A.toString(),_):Wr(A.toString(),_)}else oe(2);u.G=0,u.l&&u.l.sa(g),Bo(u),Uo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Bo(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(j(u.ka,g),j(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function qo(u,g,_){var A=_ instanceof yi?re(_):new yi(_);if(A.g!="")g&&(A.g=g+"."+A.g),Xr(A,A.s);else{var P=m.location;A=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var H=new yi(null);A&&ar(H,A),g&&(H.g=g),P&&Xr(H,P),_&&(H.l=_),A=H}return _=u.D,g=u.ya,_&&g&&zt(A,_,g),zt(A,"VER",u.la),ia(u,A),A}function jo(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new lr({eb:_})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xa(){}Xa.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){_e.call(this),this.g=new Qa(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!et(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!et(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new $n(this)}z(Ze,_e),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){rl(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Gs(u),u=_);g.i.push(new $c(g.Ya++,u)),g.G==3&&Ya(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,Ze.aa.N.call(this)};function Fo(u){Yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}z(Fo,Yi);function Go(){xn.call(this),this.status=1}z(Go,xn);function $n(u){this.g=u}z($n,Ho),$n.prototype.ua=function(){Ce(this.g,"a")},$n.prototype.ta=function(u){Ce(this.g,new Fo(u))},$n.prototype.sa=function(u){Ce(this.g,new Go)},$n.prototype.ra=function(){Ce(this.g,"b")},Xa.prototype.createWebChannel=Xa.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,lE=function(){return new Xa},sE=function(){return La()},aE=yn,vd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Ju=ve,gi.COMPLETE="complete",rE=gi,wo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Zl=wo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,iE=Ht}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const f_="@firebase/firestore",d_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Fd("@firebase/firestore");function Ss(){return Da.logLevel}function st(r,...e){if(Da.logLevel<=Pt.DEBUG){const i=e.map(Zd);Da.debug(`Firestore (${ks}): ${r}`,...i)}}function ji(r,...e){if(Da.logLevel<=Pt.ERROR){const i=e.map(Zd);Da.error(`Firestore (${ks}): ${r}`,...i)}}function Ds(r,...e){if(Da.logLevel<=Pt.WARN){const i=e.map(Zd);Da.warn(`Firestore (${ks}): ${r}`,...i)}}function Zd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+r;throw ji(e),new Error(e)}function Ft(r,e){r||_t()}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends jr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class B1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Or,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Or)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new oE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Qe(e)}}class q1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class j1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new q1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,iw(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new m_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new m_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=F1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function Is(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,p_=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*p_);return new we(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<g_)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new we(0,0))}static max(){return new Et(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__name__";class ni{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ni.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ni.isNumericId(e),o=ni.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ni.extractNumericId(e).compare(ni.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class Zt extends ni{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const G1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ni{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return G1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y_}static keyField(){return new Be([y_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new dt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(c(),o++)}if(c(),d)throw new dt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function Q1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new Lr(o,gt.empty(),e)}function K1(r){return new Lr(r.readTime,r.key,lo)}class Lr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Lr(Et.min(),gt.empty(),lo)}static max(){return new Lr(Et.max(),gt.empty(),lo)}}function Y1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==$1)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):$.reject(i)}static resolve(e){return new $((i,s)=>{i(e)})}static reject(e){return new $((i,s)=>{s(e)})}static waitFor(e){return new $((i,s)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=$.resolve(!1);for(const s of e)i=i.next(o=>o?$.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new $((s,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++m,m===c&&s(d)},T=>o(T))}})}static doWhile(e,i){return new $((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function Z1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Bs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ic.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function Vc(r){return r==null}function hc(r){return r===0&&1/r==-1/0}function W1(r){return typeof r=="number"&&Number.isInteger(r)&&!hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function J1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=__(e)),e=tR(r.get(i),e);return __(e)}function tR(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function __(r){return r+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Hr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function hE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Is(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const eR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(Ft(!!r),typeof r=="string"){let e=0;const i=eR.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function Jd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[mE])===null||i===void 0?void 0:i.stringValue)===dE}function Nc(r){const e=r.mapValue.fields[gE];return Jd(e)?Nc(e):e}function oo(r){const e=Pr(r.mapValue.fields[pE].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,i,s,o,c,d,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const fc="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",iR="__max__",Qu={mapValue:{}},_E="__vector__",dc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Jd(r)?4:aR(r)?9007199254740991:rR(r)?10:11:_t()}function ui(r,e){if(r===e)return!0;const i=zr(r);if(i!==zr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return oo(r).isEqual(oo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Pr(o.timestampValue),m=Pr(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return kr(o.bytesValue).isEqual(kr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ce(o.doubleValue),m=ce(c.doubleValue);return d===m?hc(d)===hc(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Is(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(v_(d)!==v_(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ui(d[p],m[p])))return!1;return!0}(r,e);default:return _t()}}function co(r,e){return(r.values||[]).find(i=>ui(i,e))!==void 0}function Vs(r,e){if(r===e)return 0;const i=zr(r),s=zr(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return function(c,d){const m=ce(c.integerValue||c.doubleValue),p=ce(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return T_(r.timestampValue,e.timestampValue);case 4:return T_(oo(r),oo(e));case 5:return Ot(r.stringValue,e.stringValue);case 6:return function(c,d){const m=kr(c),p=kr(d);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Ot(m[y],p[y]);if(T!==0)return T}return Ot(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Ot(ce(c.latitude),ce(d.latitude));return m!==0?m:Ot(ce(c.longitude),ce(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return A_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,T;const b=c.fields||{},C=d.fields||{},N=(m=b[dc])===null||m===void 0?void 0:m.arrayValue,z=(p=C[dc])===null||p===void 0?void 0:p.arrayValue,K=Ot(((y=N==null?void 0:N.values)===null||y===void 0?void 0:y.length)||0,((T=z==null?void 0:z.values)===null||T===void 0?void 0:T.length)||0);return K!==0?K:A_(N,z)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Qu.mapValue&&d===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const C=Ot(p[b],T[b]);if(C!==0)return C;const N=Vs(m[p[b]],y[T[b]]);if(N!==0)return N}return Ot(p.length,T.length)}(r.mapValue,e.mapValue);default:throw _t()}}function T_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Pr(r),s=Pr(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function A_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Vs(i[o],s[o]);if(c)return c}return Ot(i.length,s.length)}function Ns(r){return Ed(r)}function Ed(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Pr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return kr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Ed(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Ed(i.fields[d])}`;return o+"}"}(r.mapValue):_t()}function tc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Nc(r);return e?16+tc(e):16;case 5:return 2*r.stringValue.length;case 6:return kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+tc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Hr(s.fields,(c,d)=>{o+=c.length+tc(d)}),o}(r.mapValue);default:throw _t()}}function Td(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function S_(r){return!!r&&"nullValue"in r}function b_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function rR(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[yE])===null||i===void 0?void 0:i.stringValue)===_E}function eo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Hr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=eo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function aR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}d?s[m.lastSegment()]=eo(d):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Hr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new an(eo(this.value))}}function vE(r){const e=[];return Hr(r.fields,(i,s)=>{const o=new Be([i]);if(ec(s)){const c=vE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,d,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function w_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Vs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function R_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i="asc"){this.field=e,this.dir=i}}function sR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class be extends EE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new oR(e,i,s):i==="array-contains"?new hR(e,s):i==="in"?new fR(e,s):i==="not-in"?new dR(e,s):i==="array-contains-any"?new mR(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new uR(e,s):new cR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Vs(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Vs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends EE{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ci(e,i)}matches(e){return TE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function AE(r){return lR(r)&&TE(r)}function lR(r){for(const e of r.filters)if(e instanceof ci)return!1;return!0}function Ad(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(AE(r))return r.filters.map(e=>Ad(e)).join(",");{const e=r.filters.map(i=>Ad(i)).join(",");return`${r.op}(${e})`}}function SE(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,e):r instanceof ci?function(s,o){return o instanceof ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,m)=>c&&SE(d,o.filters[m]),!0):!1}(r,e):void _t()}function bE(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(bE).join(" ,")+"}"}(r):"Filter"}class oR extends be{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class uR extends be{constructor(e,i){super(e,"in",i),this.keys=wE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class cR extends be{constructor(e,i){super(e,"not-in",i),this.keys=wE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function wE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class hR extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tm(i)&&co(i.arrayValue,this.value)}}class fR extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class dR extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!co(this.value.arrayValue,i)}}class mR extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>co(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i=null,s=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.le=null}}function C_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new gR(r,e,i,s,o,c,d)}function em(r){const e=At(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Ad(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Vc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ns(s)).join(",")),e.le=i}return e.le}function nm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!sR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!SE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R_(r.startAt,e.startAt)&&R_(r.endAt,e.endAt)}function Sd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i=null,s=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pR(r,e,i,s,o,c,d,m){return new Oc(r,e,i,s,o,c,d,m)}function RE(r){return new Oc(r)}function D_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function yR(r){return r.collectionGroup!==null}function no(r){const e=At(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Re(Be.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new gc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new gc(Be.keyField(),s))}return e.he}function ri(r){const e=At(r);return e.Pe||(e.Pe=_R(e,no(r))),e.Pe}function _R(r,e){if(r.limitType==="F")return C_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new gc(o.field,c)});const i=r.endAt?new mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mc(r.startAt.position,r.startAt.inclusive):null;return C_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function bd(r,e,i){return new Oc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Mc(r,e){return nm(ri(r),ri(e))&&r.limitType===e.limitType}function CE(r){return`${em(ri(r))}|lt:${r.limitType}`}function bs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>bE(o)).join(", ")}]`),Vc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function xc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of no(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,m,p){const y=w_(d,m,p);return d.inclusive?y<=0:y<0}(s.startAt,no(s),o)||s.endAt&&!function(d,m,p){const y=w_(d,m,p);return d.inclusive?y>=0:y>0}(s.endAt,no(s),o))}(r,e)}function vR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DE(r){return(e,i)=>{let s=!1;for(const o of no(r)){const c=ER(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function ER(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Vs(p,y):_t()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=new ne(gt.comparator);function Hi(){return TR}const IE=new ne(gt.comparator);function Wl(...r){let e=IE;for(const i of r)e=e.insert(i.key,i);return e}function VE(r){let e=IE;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function wa(){return io()}function NE(){return io()}function io(){return new Na(r=>r.toString(),(r,e)=>r.isEqual(e))}const AR=new ne(gt.comparator),SR=new Re(gt.comparator);function Vt(...r){let e=SR;for(const i of r)e=e.add(i);return e}const bR=new Re(Ot);function wR(){return bR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function OE(r){return{integerValue:""+r}}function RR(r,e){return W1(e)?OE(e):im(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(){this._=void 0}}function CR(r,e,i){return r instanceof pc?function(o,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Jd(c)&&(c=Nc(c)),c&&(d.fields[gE]=c),{mapValue:d}}(i,e):r instanceof ho?xE(r,e):r instanceof fo?UE(r,e):function(o,c){const d=ME(o,c),m=I_(d)+I_(o.Ie);return Td(d)&&Td(o.Ie)?OE(m):im(o.serializer,m)}(r,e)}function DR(r,e,i){return r instanceof ho?xE(r,e):r instanceof fo?UE(r,e):i}function ME(r,e){return r instanceof yc?function(s){return Td(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class pc extends Uc{}class ho extends Uc{constructor(e){super(),this.elements=e}}function xE(r,e){const i=LE(e);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class fo extends Uc{constructor(e){super(),this.elements=e}}function UE(r,e){let i=LE(e);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class yc extends Uc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function I_(r){return ce(r.integerValue||r.doubleValue)}function LE(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function IR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ho&&o instanceof ho||s instanceof fo&&o instanceof fo?Is(s.elements,o.elements,ui):s instanceof yc&&o instanceof yc?ui(s.Ie,o.Ie):s instanceof pc&&o instanceof pc}(r.transform,e.transform)}class VR{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Lc{}function PE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zE(r.key,ai.none()):new _o(r.key,r.data,ai.none());{const i=r.data,s=an.empty();let o=new Re(Be.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Fr(r.key,s,new mn(o.toArray()),ai.none())}}function NR(r,e,i){r instanceof _o?function(o,c,d){const m=o.value.clone(),p=N_(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,i):r instanceof Fr?function(o,c,d){if(!nc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=N_(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(kE(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ro(r,e,i,s){return r instanceof _o?function(c,d,m,p){if(!nc(c.precondition,d))return m;const y=c.value.clone(),T=O_(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Fr?function(c,d,m,p){if(!nc(c.precondition,d))return m;const y=O_(c.fieldTransforms,p,d),T=d.data;return T.setAll(kE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,i,s):function(c,d,m){return nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,i)}function OR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=ME(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function V_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Is(s,o,(c,d)=>IR(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _o extends Lc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Fr extends Lc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function N_(r,e,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,m=e.data.field(c.field);s.set(c.field,DR(d,m,i[o]))}return s}function O_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,CR(c,d,e))}return s}class zE extends Lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MR extends Lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&NR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ro(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=NE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=i.has(o.key)?null:m;const p=PE(d,m);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Is(this.mutations,e.mutations,(i,s)=>V_(i,s))&&Is(this.baseMutations,e.baseMutations,(i,s)=>V_(i,s))}}class rm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length);let o=function(){return AR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new rm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function PR(r){switch(r){case W.OK:return _t();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return _t()}}function BE(r){if(r===void 0)return ji("GRPC error has no .code"),W.UNKNOWN;switch(r){case pe.OK:return W.OK;case pe.CANCELLED:return W.CANCELLED;case pe.UNKNOWN:return W.UNKNOWN;case pe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pe.INTERNAL:return W.INTERNAL;case pe.UNAVAILABLE:return W.UNAVAILABLE;case pe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pe.NOT_FOUND:return W.NOT_FOUND;case pe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pe.ABORTED:return W.ABORTED;case pe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pe.DATA_LOSS:return W.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Nr([4294967295,4294967295],0);function M_(r){const e=kR().encode(r),i=new nE;return i.update(e),new Uint8Array(i.digest())}function x_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([i,s],0),new Nr([o,c],0)]}class am{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Nr.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Nr.fromNumber(s)));return o.compare(zR)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=M_(e),[s,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new am(c,o,i);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.Ee===0)return;const i=M_(e),[s,o]=x_(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Pc(Et.min(),o,new ne(Ot),Hi(),Vt())}}class vo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new vo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class qE{constructor(e,i){this.targetId=e,this.ge=i}}class jE{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.pe=0,this.ye=L_(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new vo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=L_()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class BR{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hi(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new ne(Ot)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(Sd(c))if(s===0){const d=new gt(c.path);this.ze(i,d,Ke.newNoDocument(d,Et.min()))}else Ft(s===1);else{const d=this.et(i);if(d!==s){const m=this.tt(e),p=m?this.nt(m,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,m;try{d=kr(s).toUint8Array()}catch(p){if(p instanceof fE)return Ds("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new am(d,o,c)}catch(p){return Ds(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const m=this.Xe(d);if(m){if(c.current&&Sd(m.target)){const p=new gt(m.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=Vt();this.Ke.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Pc(e,i,this.Ue,this.Qe,s);return this.Qe=Hi(),this.$e=Ku(),this.Ke=Ku(),this.Ue=new ne(Ot),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new U_,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Re(Ot),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Ot),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new U_),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Ku(){return new ne(gt.comparator)}function L_(){return new ne(gt.comparator)}const qR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HR={and:"AND",or:"OR"};class FR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function wd(r,e){return r.useProto3Json||Vc(e)?e:{value:e}}function _c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function GR(r,e){return _c(r,e.toTimestamp())}function si(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=Pr(i);return new we(s.seconds,s.nanos)}(r))}function sm(r,e){return Rd(r,e).canonicalString()}function Rd(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function FE(r){const e=Zt.fromString(r);return Ft($E(e)),e}function Cd(r,e){return sm(r.databaseId,e.path)}function ld(r,e){const i=FE(e);if(i.get(1)!==r.databaseId.projectId)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(QE(i))}function GE(r,e){return sm(r.databaseId,e)}function QR(r){const e=FE(r);return e.length===4?Zt.emptyPath():QE(e)}function Dd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function P_(r,e,i){return{name:Cd(r,e),fields:i.value.mapValue.fields}}function KR(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ft(T===void 0||typeof T=="string"),qe.fromBase64String(T||"")):(Ft(T===void 0||T instanceof Buffer||T instanceof Uint8Array),qe.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const T=y.code===void 0?W.UNKNOWN:BE(y.code);return new dt(T,y.message||"")}(d);i=new jE(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ld(r,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):Et.min(),m=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];i=new ic(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ld(r,s.document),c=s.readTime?si(s.readTime):Et.min(),d=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new ic([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ld(r,s.document),c=s.removedTargetIds||[];i=new ic([],c,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new LR(o,c),m=s.targetId;i=new qE(m,d)}}return i}function YR(r,e){let i;if(e instanceof _o)i={update:P_(r,e.key,e.value)};else if(e instanceof zE)i={delete:Cd(r,e.key)};else if(e instanceof Fr)i={update:P_(r,e.key,e.data),updateMask:i2(e.fieldMask)};else{if(!(e instanceof MR))return _t();i={verify:Cd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const m=d.transform;if(m instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof yc)return{fieldPath:d.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:GR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()}(r,e.precondition)),i}function $R(r,e){return r&&r.length>0?(Ft(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?si(o.updateTime):si(c);return d.isEqual(Et.min())&&(d=si(c)),new VR(d,o.transformResults||[])}(i,e))):[]}function XR(r,e){return{documents:[GE(r,e.path)]}}function ZR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=GE(r,o);const c=function(y){if(y.length!==0)return YE(ci.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:ws(C.field),direction:t2(C.dir)}}(T))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const m=wd(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function WR(r){let e=QR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(b){const C=KE(b);return C instanceof ci&&AE(C)?C.getFilters():[C]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(C=>function(z){return new gc(Rs(z.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(C))}(i.orderBy));let m=null;i.limit&&(m=function(b){let C;return C=typeof b=="object"?b.value:b,Vc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(b){const C=!!b.before,N=b.values||[];return new mc(N,C)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const C=!b.before,N=b.values||[];return new mc(N,C)}(i.endAt)),pR(e,o,d,c,m,"F",p,y)}function JR(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function KE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Rs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Rs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Rs(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Rs(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(i){return be.create(Rs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(s=>KE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(r):_t()}function t2(r){return qR[r]}function e2(r){return jR[r]}function n2(r){return HR[r]}function ws(r){return{fieldPath:r.canonicalString()}}function Rs(r){return Be.fromServerFormat(r.fieldPath)}function YE(r){return r instanceof be?function(i){if(i.op==="=="){if(b_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NAN"}};if(S_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(b_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NAN"}};if(S_(i.value))return{unaryFilter:{field:ws(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ws(i.field),op:e2(i.op),value:i.value}}}(r):r instanceof ci?function(i){const s=i.getFilters().map(o=>YE(o));return s.length===1?s[0]:{compositeFilter:{op:n2(i.op),filters:s}}}(r):_t()}function i2(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function $E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,i,s,o,c=Et.min(),d=Et.min(),m=qe.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.Tt=e}}function a2(r){const e=WR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Tn=new l2}addToCollectionParentIndex(e,i){return this.Tn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Lr.min())}updateCollectionGroup(e,i,s){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class l2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(XE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Os(0)}static Un(){return new Os(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",o2=1048576;function B_([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class u2{constructor(e){this.Hn=e,this.buffer=new Re(B_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();B_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class c2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){st(z_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Bs(i)?st(z_,"Ignoring IndexedDB error during garbage collection: ",i):await zs(i)}await this.er(3e5)})}}class h2{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ic.ae);const s=new u2(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(k_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k_):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Ss()<=Pt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function f2(r,e){return new h2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.changes=new Na(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?$.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ro(s.mutation,o,mn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=wa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Wl();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=wa();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{i.set(d,m)})})}computeViews(e,i,s,o){let c=Hi();const d=io(),m=function(){return io()}();return i.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Fr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),ro(T.mutation,y,T.mutation.getFieldMask(),we.now())):d.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var b;return m.set(y,new m2(T,(b=d.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,i){const s=io();let o=new ne((d,m)=>d-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||mn.empty();T=m.applyToLocalView(y,T),s.set(p,T);const b=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,b=NE();T.forEach(C=>{if(!c.has(C)){const N=PE(i.get(C),s.get(C));N!==null&&b.set(C,N),c=c.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return $.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):yR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):$.resolve(wa());let m=lo,p=c;return d.next(y=>$.forEach(y,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{p=p.insert(T,C)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Vt())).next(T=>({batchId:m,changes:VE(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,c).next(m=>$.forEach(m,p=>{const y=function(b,C){return new Oc(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((b,C)=>{d=d.insert(b,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ke.newInvalidDocument(T)))});let m=Wl();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&ro(T.mutation,y,mn.empty(),we.now()),xc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return $.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:a2(o.bundledQuery),readTime:si(o.readTime)}}(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const s=wa();return $.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),$.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,i,s){const o=wa(),c=i.length+1,d=new gt(i.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=wa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=wa(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return $.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new UR(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Vr=new Re(xe.mr),this.gr=new Re(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new gt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Zt([])),s=new xe(i,e),o=new xe(i,e+1);let c=Vt();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Ot(e.Cr,i.Cr)}static pr(e,i){return Ot(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(xe.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new xR(c,i,s,o);this.mutationQueue.push(d);for(const m of o)this.Mr=this.Mr.add(new xe(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Wd:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const m=this.Or(d.Cr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Ot);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new gt(c),0);let m=new Re(Ot);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},d),$.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return $.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Hi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),$.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Hi();const d=i.path,m=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Y1(K1(T),s)<=0||(o.has(T.key)||xc(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return $.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new T2(this)}getSize(e){return $.resolve(this.size)}}class T2 extends d2{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),$.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.persistence=e,this.Qr=new Na(i=>em(i),nm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new lm,this.targetCount=0,this.Ur=Os.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),$.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Os(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.zn(i),$.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.br(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(c).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return $.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),$.resolve()}removeMatchingKeys(e,i,s){this.Kr.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Kr.br(i),$.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return $.resolve(s)}containsKey(e,i){return $.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Ic(0),this.zr=!1,this.zr=!0,this.jr=new _2,this.referenceDelegate=e(this),this.Hr=new A2(this),this.indexManager=new s2,this.remoteDocumentCache=function(o){return new E2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new r2(i),this.Yr=new p2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new y2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new v2(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new S2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class S2 extends X1{constructor(e){super(),this.currentSequenceNumber=e}}class om{constructor(e){this.persistence=e,this.ti=new lm,this.ni=null}static ri(e){return new om(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),$.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),$.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return $.or([()=>$.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.oi=new Na(s=>J1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=f2(this,i)}static ri(e,i){return new vc(e,i)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return $.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?$.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(m=>{m||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),$.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}ar(e,i,s){return $.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return $.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new um(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JS()?8:Z1(XS())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new b2;return this._s(e,i,d).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,d,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Ss()<=Pt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",bs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Ss()<=Pt.DEBUG&&st("QueryEngine","Query:",bs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ss()<=Pt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",bs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(i))):$.resolve())}rs(e,i){if(D_(i))return $.resolve(null);let s=ri(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=bd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Vt(...c);return this.ns.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,d,p.readTime)?this.rs(e,bd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return D_(i)||o.isEqual(Et.min())?$.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?$.resolve(null):(Ss()<=Pt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),bs(i)),this.hs(e,d,i,Q1(o,lo)).next(m=>m))})}cs(e,i){let s=new Re(DE(e));return i.forEach((o,c)=>{xc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Ss()<=Pt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",bs(i)),this.ns.getDocumentsMatchingQuery(e,i,Lr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="LocalStore",R2=3e8;class C2{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Ot),this.Is=new Na(c=>em(c),nm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function D2(r,e,i,s){return new C2(r,e,i,s)}async function WE(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],m=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:m}))})})}function I2(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const b=y.batch,C=b.keys();let N=$.resolve();return C.forEach(z=>{N=N.next(()=>T.getEntry(p,z)).next(K=>{const j=y.docVersions.get(z);Ft(j!==null),K.version.compareTo(j)<0&&(b.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function JE(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function V2(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const C=o.get(b);if(!C)return;m.push(i.Hr.removeMatchingKeys(c,T.removedDocuments,b).next(()=>i.Hr.addMatchingKeys(c,T.addedDocuments,b)));let N=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?N=N.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):T.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(T.resumeToken,s)),o=o.insert(b,N),function(K,j,X){return K.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=R2?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(C,N,T)&&m.push(i.Hr.updateTargetData(c,N))});let p=Hi(),y=Vt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(N2(c,d,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Et.min())){const T=i.Hr.getLastRemoteSnapshotVersion(c).next(b=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return $.waitFor(m).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function N2(r,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=Hi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):st(cm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function O2(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function M2(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,$.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new Dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Id(r,e,i){const s=At(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Bs(d))throw d;st(cm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function q_(r,e,i){const s=At(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,T){const b=At(p),C=b.Is.get(T);return C!==void 0?$.resolve(b.Ts.get(C)):b.Hr.getTargetData(y,T)}(s,d,ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:Vt())).next(m=>(x2(s,vR(e),m),{documents:m,gs:c})))}function x2(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class j_{constructor(){this.activeTargetIds=wR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U2{constructor(){this.ho=new j_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new j_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="ConnectivityMonitor";class F_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(H_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){st(H_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function Vd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="RestConnection",P2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Vd(),m=this.bo(e,i.toUriEncodedString());st(od,`Sending RPC '${e}' ${d}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(st(od,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ds(od,`RPC '${e}' ${d} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=P2[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class B2 extends k2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Vd();return new Promise((d,m)=>{const p=new iE;p.setWithCredentials(!0),p.listenOnce(rE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ju.NO_ERROR:const T=p.getResponseJson();st(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Ju.TIMEOUT:st(Ge,`RPC '${e}' ${c} timed out`),m(new dt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ju.HTTP_ERROR:const b=p.getStatus();if(st(Ge,`RPC '${e}' ${c} failed with status:`,b,"response text:",p.getResponseText()),b>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const N=C==null?void 0:C.error;if(N&&N.status&&N.message){const z=function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(N.status);m(new dt(z,N.message))}else m(new dt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new dt(W.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{st(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);st(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Vd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lE(),m=sE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=c.join("");st(Ge,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=d.createWebChannel(T,p);let C=!1,N=!1;const z=new z2({Fo:j=>{N?st(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(C||(st(Ge,`Opening RPC '${e}' stream ${o} transport.`),b.open(),C=!0),st(Ge,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Mo:()=>b.close()}),K=(j,X,et)=>{j.listen(X,tt=>{try{et(tt)}catch(vt){setTimeout(()=>{throw vt},0)}})};return K(b,Zl.EventType.OPEN,()=>{N||(st(Ge,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),K(b,Zl.EventType.CLOSE,()=>{N||(N=!0,st(Ge,`RPC '${e}' stream ${o} transport closed`),z.Ko())}),K(b,Zl.EventType.ERROR,j=>{N||(N=!0,Ds(Ge,`RPC '${e}' stream ${o} transport errored:`,j),z.Ko(new dt(W.UNAVAILABLE,"The operation could not be completed")))}),K(b,Zl.EventType.MESSAGE,j=>{var X;if(!N){const et=j.data[0];Ft(!!et);const tt=et,vt=(tt==null?void 0:tt.error)||((X=tt[0])===null||X===void 0?void 0:X.error);if(vt){st(Ge,`RPC '${e}' stream ${o} received error:`,vt);const ct=vt.status;let Rt=function(S){const I=pe[S];if(I!==void 0)return BE(I)}(ct),x=vt.message;Rt===void 0&&(Rt=W.INTERNAL,x="Unknown error status: "+ct+" with message "+vt.message),N=!0,z.Ko(new dt(Rt,x)),b.close()}else st(Ge,`RPC '${e}' stream ${o} received:`,et),z.Uo(et)}}),K(m,aE.STAT_EVENT,j=>{j.stat===vd.PROXY?st(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===vd.NOPROXY&&st(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(r){return new FR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class e0{constructor(e,i,s,o,c,d,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new t0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new dt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return st(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(st(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q2 extends e0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=KR(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?si(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Dd(this.serializer),i.addTarget=function(c,d){let m;const p=d.target;if(m=Sd(p)?{documents:XR(c,p)}:{query:ZR(c,p).ht},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=HE(c,d.resumeToken);const y=wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){m.readTime=_c(c,d.snapshotVersion.toTimestamp());const y=wd(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=JR(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Dd(this.serializer),i.removeTarget=e,this.I_(i)}}class j2 extends e0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=$R(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Dd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>YR(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{}class F2 extends H2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Rd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(W.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Co(e,Rd(i,s),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(W.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class G2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(i),this.N_=!1):st("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class Q2{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Oa(this)&&(st(Ia,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await Eo(y),y.j_.set("Unknown"),y.W_.delete(4),await zc(y)}(this))})}),this.j_=new G2(s,o)}}async function zc(r){if(Oa(r))for(const e of r.G_)await e(!0)}async function Eo(r){for(const e of r.G_)await e(!1)}function n0(r,e){const i=At(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),mm(i)?dm(i):qs(i).c_()&&fm(i,e))}function hm(r,e){const i=At(r),s=qs(i);i.U_.delete(e),s.c_()&&i0(i,e),i.U_.size===0&&(s.c_()?s.P_():Oa(i)&&i.j_.set("Unknown"))}function fm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}qs(r).y_(e)}function i0(r,e){r.H_.Ne(e),qs(r).w_(e)}function dm(r){r.H_=new BR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),qs(r).start(),r.j_.B_()}function mm(r){return Oa(r)&&!qs(r).u_()&&r.U_.size>0}function Oa(r){return At(r).W_.size===0}function r0(r){r.H_=void 0}async function K2(r){r.j_.set("Online")}async function Y2(r){r.U_.forEach((e,i)=>{fm(r,e)})}async function $2(r,e){r0(r),mm(r)?(r.j_.q_(e),dm(r)):r.j_.set("Unknown")}async function X2(r,e,i){if(r.j_.set("Online"),e instanceof jE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){st(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ec(r,s)}else if(e instanceof ic?r.H_.We(e):e instanceof qE?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await JE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const m=c.H_.ot(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.U_.get(y);T&&c.U_.set(y,T.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const T=c.U_.get(p);if(!T)return;c.U_.set(p,T.withResumeToken(qe.EMPTY_BYTE_STRING,T.snapshotVersion)),i0(c,p);const b=new Dr(T.target,p,y,T.sequenceNumber);fm(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){st(Ia,"Failed to raise snapshot:",s),await Ec(r,s)}}async function Ec(r,e,i){if(!Bs(e))throw e;r.W_.add(1),await Eo(r),r.j_.set("Offline"),i||(i=()=>JE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Ia,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await zc(r)})}function a0(r,e){return e().catch(i=>Ec(r,i,e))}async function Bc(r){const e=At(r),i=Br(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Wd;for(;Z2(e);)try{const o=await O2(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,W2(e,o)}catch(o){await Ec(e,o)}s0(e)&&l0(e)}function Z2(r){return Oa(r)&&r.K_.length<10}function W2(r,e){r.K_.push(e);const i=Br(r);i.c_()&&i.S_&&i.b_(e.mutations)}function s0(r){return Oa(r)&&!Br(r).u_()&&r.K_.length>0}function l0(r){Br(r).start()}async function J2(r){Br(r).C_()}async function tC(r){const e=Br(r);for(const i of r.K_)e.b_(i.mutations)}async function eC(r,e,i){const s=r.K_.shift(),o=rm.from(s,e,i);await a0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Bc(r)}async function nC(r,e){e&&Br(r).S_&&await async function(s,o){if(function(d){return PR(d)&&d!==W.ABORTED}(o.code)){const c=s.K_.shift();Br(s).h_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Bc(s)}}(r,e),s0(r)&&l0(r)}async function Q_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),st(Ia,"RemoteStore received new credentials");const s=Oa(i);i.W_.add(3),await Eo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await zc(i)}async function iC(r,e){const i=At(r);e?(i.W_.delete(2),await zc(i)):e||(i.W_.add(2),await Eo(i),i.j_.set("Unknown"))}function qs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new q2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:K2.bind(null,r),No:Y2.bind(null,r),Lo:$2.bind(null,r),p_:X2.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),mm(r)?dm(r):r.j_.set("Unknown")):(await r.J_.stop(),r0(r))})),r.J_}function Br(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new j2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:J2.bind(null,r),Lo:nC.bind(null,r),D_:tC.bind(null,r),v_:eC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Bc(r)):(await r.Y_.stop(),r.K_.length>0&&(st(Ia,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,m=new gm(e,i,d,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pm(r,e){if(ji("AsyncQueue",`${e}: ${r}`),Bs(r))return new dt(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{static emptySet(e){return new Cs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Cs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ms{constructor(e,i,s,o,c,d,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(m=>{d.push({type:0,doc:m})}),new Ms(e,i,Cs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class aC{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=Y_(),c.forEach((d,m)=>{for(const p of m.ta)p.onError(s)})})(this,new dt(W.ABORTED,"Firestore shutting down"))}}function Y_(){return new Na(r=>CE(r),Mc)}async function sC(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new rC,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const m=pm(d,`Initialization of query '${bs(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&ym(i)}async function lC(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function oC(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const m of d.ta)m.oa(o)&&(s=!0);d.ea=o}}s&&ym(i)}function uC(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function ym(r){r.ia.forEach(e=>{e.next()})}var Nd,$_;($_=Nd||(Nd={}))._a="default",$_.Cache="cache";class cC{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ms(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Nd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class hC{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=DE(e),this.wa=new Cs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new K_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const C=o.get(T),N=xc(this.query,b)?b:null,z=!!C&&this.mutatedKeys.has(C.key),K=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let j=!1;C&&N?C.data.isEqual(N.data)?z!==K&&(s.track({type:3,doc:N}),j=!0):this.va(C,N)||(s.track({type:2,doc:N}),j=!0,(p&&this.ya(N,p)>0||y&&this.ya(N,y)<0)&&(m=!0)):!C&&N?(s.track({type:0,doc:N}),j=!0):C&&!N&&(s.track({type:1,doc:C}),j=!0,(p||y)&&(m=!0)),j&&(N?(d=d.add(N),c=K?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:d,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((T,b)=>function(N,z){const K=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return K(N)-K(z)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ms(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new K_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new u0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new o0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _m="SyncEngine";class fC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class dC{constructor(e){this.key=e,this.Ba=!1}}class mC{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Na(m=>CE(m),Mc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new lm,this.Wa={},this.Ga=new Map,this.za=Os.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gC(r,e,i=!0){const s=g0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await c0(s,e,i,!0),o}async function pC(r,e){const i=g0(r);await c0(i,e,!0,!1)}async function c0(r,e,i,s){const o=await M2(r.localStore,ri(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await yC(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&n0(r.remoteStore,o),m}async function yC(r,e,i,s,o){r.Ha=(b,C,N)=>async function(K,j,X,et){let tt=j.view.ba(X);tt.ls&&(tt=await q_(K.localStore,j.query,!1).then(({documents:x})=>j.view.ba(x,tt)));const vt=et&&et.targetChanges.get(j.targetId),ct=et&&et.targetMismatches.get(j.targetId)!=null,Rt=j.view.applyChanges(tt,K.isPrimaryClient,vt,ct);return Z_(K,j.targetId,Rt.Ma),Rt.snapshot}(r,b,C,N);const c=await q_(r.localStore,e,!0),d=new hC(e,c.gs),m=d.ba(c.documents),p=vo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,p);Z_(r,i,y.Ma);const T=new fC(e,i,d);return r.ka.set(e,T),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function _C(r,e,i){const s=At(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Mc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Id(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&hm(s.remoteStore,o.targetId),Od(s,o.targetId)}).catch(zs)):(Od(s,o.targetId),await Id(s.localStore,o.targetId,!0))}async function vC(r,e){const i=At(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),hm(i.remoteStore,s.targetId))}async function EC(r,e,i){const s=CC(r);try{const o=await function(d,m){const p=At(d),y=we.now(),T=m.reduce((N,z)=>N.add(z.key),Vt());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let z=Hi(),K=Vt();return p.ds.getEntries(N,T).next(j=>{z=j,z.forEach((X,et)=>{et.isValidDocument()||(K=K.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,z)).next(j=>{b=j;const X=[];for(const et of m){const tt=OR(et,b.get(et.key).overlayedDocument);tt!=null&&X.push(new Fr(et.key,tt,vE(tt.value.mapValue),ai.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,X,m)}).next(j=>{C=j;const X=j.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(N,j.batchId,X)})}).then(()=>({batchId:C.batchId,changes:VE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ne(Ot)),y=y.insert(m,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await To(s,o.changes),await Bc(s.remoteStore)}catch(o){const c=pm(o,"Failed to persist write");i.reject(c)}}async function h0(r,e){const i=At(r);try{const s=await V2(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ka.get(c);d&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ft(d.Ba):o.removedDocuments.size>0&&(Ft(d.Ba),d.Ba=!1))}),await To(i,s,e)}catch(s){await zs(s)}}function X_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const m=d.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=At(d);p.onlineState=m;let y=!1;p.queries.forEach((T,b)=>{for(const C of b.ta)C.sa(m)&&(y=!0)}),y&&ym(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function TC(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),c=o&&o.key;if(c){let d=new ne(gt.comparator);d=d.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new Pc(Et.min(),new Map,new ne(Ot),d,m);await h0(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),vm(s)}else await Id(s.localStore,e,!1).then(()=>Od(s,e,i)).catch(zs)}async function AC(r,e){const i=At(r),s=e.batch.batchId;try{const o=await I2(i.localStore,e);d0(i,s,null),f0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await To(i,o)}catch(o){await zs(o)}}async function SC(r,e,i){const s=At(r);try{const o=await function(d,m){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(Ft(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);d0(s,e,i),f0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await To(s,o)}catch(o){await zs(o)}}function f0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function d0(r,e,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(s=>{r.Ua.containsKey(s)||m0(r,s)})}function m0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(hm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),vm(r))}function Z_(r,e,i){for(const s of i)s instanceof o0?(r.Ua.addReference(s.key,e),bC(r,s)):s instanceof u0?(st(_m,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||m0(r,s.key)):_t()}function bC(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(st(_m,"New document in limbo: "+i),r.Qa.add(s),vm(r))}function vm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new gt(Zt.fromString(e)),s=r.za.next();r.Ka.set(s,new dC(i)),r.$a=r.$a.insert(i,s),n0(r.remoteStore,new Dr(ri(RE(i.path)),s,"TargetPurposeLimboResolution",Ic.ae))}}async function To(r,e,i){const s=At(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{d.push(s.Ha(p,e,i).then(y=>{var T;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=i==null?void 0:i.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=um.Yi(p.targetId,y);c.push(b)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,C=>$.forEach(C.Hi,N=>T.persistence.referenceDelegate.addReference(b,C.targetId,N)).next(()=>$.forEach(C.Ji,N=>T.persistence.referenceDelegate.removeReference(b,C.targetId,N)))))}catch(b){if(!Bs(b))throw b;st(cm,"Failed to update sequence numbers: "+b)}for(const b of y){const C=b.targetId;if(!b.fromCache){const N=T.Ts.get(C),z=N.snapshotVersion,K=N.withLastLimboFreeSnapshotVersion(z);T.Ts=T.Ts.insert(C,K)}}}(s.localStore,c))}async function wC(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){st(_m,"User change. New user:",e.toKey());const s=await WE(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new dt(W.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await To(i,s.Rs)}}function RC(r,e){const i=At(r),s=i.Ka.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(e);if(!c)return o;for(const d of c){const m=i.ka.get(d);o=o.unionWith(m.view.Sa)}return o}}function g0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TC.bind(null,e),e.La.p_=oC.bind(null,e.eventManager),e.La.Ja=uC.bind(null,e.eventManager),e}function CC(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SC.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return D2(this.persistence,new w2,e.initialUser,this.serializer)}Xa(e){return new ZE(om.ri,this.serializer)}Za(e){return new U2}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class DC extends Tc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ft(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new c2(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new ZE(s=>vc.ri(s,i),this.serializer)}}class Md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>X_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=wC.bind(null,this.syncEngine),await iC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aC}()}createDatastore(e){const i=kc(e.databaseInfo.databaseId),s=function(c){return new B2(c)}(e.databaseInfo);return function(c,d,m,p){return new F2(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,m){return new Q2(s,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,i=>X_(this.syncEngine,i,0),function(){return F_.D()?new F_:new L2}())}createSyncEngine(e,i){return function(o,c,d,m,p,y,T){const b=new mC(o,c,d,m,p,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);st(Ia,"RemoteStore shutting down."),c.W_.add(5),await Eo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Md.provider={build:()=>new Md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ji("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class VC{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=uE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{st(qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=pm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function cd(r,e){r.asyncQueue.verifyOperationInProgress(),st(qr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await WE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function W_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await NC(r);st(qr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Q_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Q_(e.remoteStore,o)),r._onlineComponents=e}async function NC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(qr,"Using user provided OfflineComponentProvider");try{await cd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ds("Error using user provided cache. Falling back to memory cache: "+i),await cd(r,new Tc)}}else st(qr,"Using default OfflineComponentProvider"),await cd(r,new DC(void 0));return r._offlineComponents}async function p0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(qr,"Using user provided OnlineComponentProvider"),await W_(r,r._uninitializedComponentsProvider._online)):(st(qr,"Using default OnlineComponentProvider"),await W_(r,new Md))),r._onlineComponents}function OC(r){return p0(r).then(e=>e.syncEngine)}async function MC(r){const e=await p0(r),i=e.eventManager;return i.onListen=gC.bind(null,e.syncEngine),i.onUnlisten=_C.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=pC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=vC.bind(null,e.syncEngine),i}function xC(r,e,i={}){const s=new Or;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const T=new IC({next:C=>{T.su(),d.enqueueAndForget(()=>lC(c,b)),C.fromCache&&p.source==="server"?y.reject(new dt(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),b=new cC(m,T,{includeMetadataChanges:!0,Ta:!0});return sC(c,b)}(await MC(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(r,e,i){if(!i)throw new dt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function UC(r,e,i,s){if(e===!0&&s===!0)throw new dt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function tv(r){if(!gt.isDocumentKey(r))throw new dt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ev(r){if(gt.isDocumentKey(r))throw new dt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Em(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t()}function xs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new dt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Em(r);throw new dt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="firestore.googleapis.com",nv=!0;class iv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=v0,this.ssl=nv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:nv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o2)throw new dt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new k1;switch(s.type){case"firstParty":return new j1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=J_.get(i);s&&(st("ComponentProvider","Removing Datastore"),J_.delete(i),s.terminate())}(this),Promise.resolve()}}function LC(r,e,i,s={}){var o;const c=(r=xs(r,qc))._getSettings(),d=`${e}:${i}`;if(c.host!==v0&&c.host!==d&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qe.MOCK_USER;else{m=$S(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new dt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qe(y)}r._authCredentials=new z1(new oE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jc(this.firestore,e,this._query)}}class Mn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Mr extends jc{constructor(e,i,s){super(e,i,RE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new gt(e))}withConverter(e){return new Mr(this.firestore,e,this._path)}}function Tm(r,e,...i){if(r=oi(r),_0("collection","path",e),r instanceof qc){const s=Zt.fromString(e,...i);return ev(s),new Mr(r,null,s)}{if(!(r instanceof Mn||r instanceof Mr))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return ev(s),new Mr(r.firestore,null,s)}}function E0(r,e,...i){if(r=oi(r),arguments.length===1&&(e=uE.newId()),_0("doc","path",e),r instanceof qc){const s=Zt.fromString(e,...i);return tv(s),new Mn(r,null,new gt(s))}{if(!(r instanceof Mn||r instanceof Mr))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return tv(s),new Mn(r.firestore,r instanceof Mr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="AsyncQueue";class av{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new t0(this,"async_queue_retry"),this.Su=()=>{const s=ud();s&&st(rv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Or;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bs(e))throw e;st(rv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(s);throw ji("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=gm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Hc extends qc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new av,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function PC(r,e){const i=typeof r=="object"?r:Nv(),s=typeof r=="string"?r:fc,o=yo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=KS("firestore");c&&LC(o,...c)}return o}function T0(r){if(r._terminated)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kC(r),r._firestoreClient}function kC(r){var e,i,s;const o=r._freezeSettings(),c=function(m,p,y,T){return new nR(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,y0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new VC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(qe.fromBase64String(e))}catch(i){throw new dt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Us(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=/^__.*__$/;class BC{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Fr(e,this.data,this.fieldMask,i,this.fieldTransforms):new _o(e,this.data,i,this.fieldTransforms)}}class A0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Fr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function S0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class wm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ac(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(S0(this.Lu)&&zC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qC{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||kc(e)}ju(e,i,s,o=!1){return new wm({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b0(r){const e=r._freezeSettings(),i=kc(r._databaseId);return new qC(r._databaseId,!!e.ignoreUndefinedProperties,i)}function jC(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Rm("Data must be an object, but it was:",d,s);const m=w0(s,d);let p,y;if(c.merge)p=new mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const C=xd(e,b,i);if(!d.contains(C))throw new dt(W.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);C0(T,C)||T.push(C)}p=new mn(T),y=d.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=d.fieldTransforms;return new BC(new an(m),p,y)}class Gc extends Am{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gc}}function HC(r,e,i,s){const o=r.ju(1,e,i);Rm("Data must be an object, but it was:",o,s);const c=[],d=an.empty();Hr(s,(p,y)=>{const T=Cm(e,p,i);y=oi(y);const b=o.Ku(T);if(y instanceof Gc)c.push(T);else{const C=Qc(y,b);C!=null&&(c.push(T),d.set(T,C))}});const m=new mn(c);return new A0(d,m,o.fieldTransforms)}function FC(r,e,i,s,o,c){const d=r.ju(1,e,i),m=[xd(e,s,i)],p=[o];if(c.length%2!=0)throw new dt(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)m.push(xd(e,c[C])),p.push(c[C+1]);const y=[],T=an.empty();for(let C=m.length-1;C>=0;--C)if(!C0(y,m[C])){const N=m[C];let z=p[C];z=oi(z);const K=d.Ku(N);if(z instanceof Gc)y.push(N);else{const j=Qc(z,K);j!=null&&(y.push(N),T.set(N,j))}}const b=new mn(y);return new A0(T,b,d.fieldTransforms)}function Qc(r,e){if(R0(r=oi(r)))return Rm("Unsupported field value:",e,r),w0(r,e);if(r instanceof Am)return function(s,o){if(!S0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const m of s){let p=Qc(m,o.Uu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=oi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:_c(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_c(o.serializer,c)}}if(s instanceof Sm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Us)return{bytesValue:HE(o.serializer,s._byteString)};if(s instanceof Mn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof bm)return function(d,m){return{mapValue:{fields:{[yE]:{stringValue:_E},[dc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return im(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Em(s)}`)}(r,e)}function w0(r,e){const i={};return hE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(r,(s,o)=>{const c=Qc(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function R0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Sm||r instanceof Us||r instanceof Mn||r instanceof Am||r instanceof bm)}function Rm(r,e,i){if(!R0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Em(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function xd(r,e,i){if((e=oi(e))instanceof Fc)return e._internalPath;if(typeof e=="string")return Cm(r,e);throw Ac("Field path arguments must be of type string or ",r,!1,void 0,i)}const GC=new RegExp("[~\\*/\\[\\]]");function Cm(r,e,i){if(e.search(GC)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Fc(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ac(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new dt(W.INVALID_ARGUMENT,m+r+p)}function C0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(I0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QC extends D0{data(){return super.data()}}function I0(r,e){return typeof e=="string"?Cm(r,e):e instanceof Fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YC{convertValue(e,i="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Hr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[dc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ce(d.doubleValue));return new bm(c)}convertGeoPoint(e){return new Sm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Nc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Pr(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Ft($E(s));const o=new uo(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||ji(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XC extends D0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(I0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class rc extends XC{data(e={}){return super.data(e)}}class ZC{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $u(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new rc(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new rc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $u(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new rc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $u(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:WC(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function WC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class JC extends YC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,i)}}function tD(r){r=xs(r,jc);const e=xs(r.firestore,Hc),i=T0(e),s=new JC(e);return KC(r._query),xC(i,r._query).then(o=>new ZC(e,s,r,o))}function eD(r,e,i,...s){r=xs(r,Mn);const o=xs(r.firestore,Hc),c=b0(o);let d;return d=typeof(e=oi(e))=="string"||e instanceof Fc?FC(c,"updateDoc",r._key,e,i,s):HC(c,"updateDoc",r._key,e),N0(o,[d.toMutation(r._key,ai.exists(!0))])}function V0(r,e){const i=xs(r.firestore,Hc),s=E0(r),o=$C(r.converter,e);return N0(i,[jC(b0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ai.exists(!1))]).then(()=>s)}function N0(r,e){return function(s,o){const c=new Or;return s.asyncQueue.enqueueAndForget(async()=>EC(await OC(s),o,c)),c.promise}(T0(r),e)}(function(e,i=!0){(function(o){ks=o})(sw),Ur(new Bi("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new Hc(new B1(s.getProvider("auth-internal")),new H1(d,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ii(f_,d_,e),ii(f_,d_,"esm2017")})();const nD={apiKey:"AIzaSyBreZrXiBOtE7PtQjB3zHHzCG_FWAN6qws",authDomain:"what-the-move-9ee7d.firebaseapp.com",projectId:"what-the-move-9ee7d",storageBucket:"what-the-move-9ee7d.firebasestorage.app",messagingSenderId:"225442825601",appId:"1:225442825601:web:dc8dab58820c5180f49480",measurementId:"G-V32CW38BWN"},O0=Vv(nD);x1(O0);const Sc=PC(O0);function iD(){const[r,e]=Q.useState(""),[i,s]=Q.useState(""),o=Pd(),c=m=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m),d=async()=>{if(!c(r))s("Please enter a valid email address.");else{s("");try{await V0(Tm(Sc,"emails"),{email:r,timestamp:new Date}),o("/posts")}catch(m){s("Error saving email to database."),console.error("Error adding document: ",m)}}};return ft.jsxs("div",{className:"container text-center mt-5",style:{backgroundColor:"black",color:"white",minHeight:"100vh",minWidth:"100vw",padding:"20px"},children:[ft.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[ft.jsx("img",{src:Gy,style:{height:"50px",width:"auto"},alt:"Beer",className:"img-fluid rounded me-3"}),ft.jsx("h1",{className:"display-4 text-white",children:"What's the Move"}),ft.jsx("img",{src:Gy,style:{height:"50px",width:"auto"},alt:"Beer",className:"img-fluid rounded ms-3"})]}),ft.jsx("div",{className:"row justify-content-center mt-4",children:ft.jsxs("div",{className:"col-md-8",children:[ft.jsx("h1",{className:"display-6",children:"Enhance Your Nightlife Experience"}),ft.jsx("p",{className:"lead",children:"Our mobile nightlife platform empowers college partygoers by eliminating confusion and indecisiveness, providing real-time, reliable information on the best events, venues, and experiences."})]})}),ft.jsx("div",{className:"row justify-content-center mt-4",children:ft.jsxs("div",{className:"col-md-6",children:[ft.jsx("div",{className:"input-group mb-3",children:ft.jsx("input",{type:"email",className:"form-control",placeholder:"Enter your email","aria-label":"Email",onChange:m=>e(m.target.value)})}),ft.jsx("button",{className:"btn btn-primary",type:"button",onClick:d,children:"Find Your Next Move"}),i&&ft.jsx("p",{className:"text-danger",children:i})]})})]})}const rD=()=>{const[r,e]=Q.useState([]),[i,s]=Q.useState({});Q.useEffect(()=>{(async()=>{const m=(await tD(Tm(Sc,"posts"))).docs.map(p=>({id:p.id,...p.data(),date:p.data().createdAt.toDate()}));m.sort((p,y)=>y.date-p.date),e(m)})()},[]);const o=async(c,d)=>{if(!i[c])try{const m=E0(Sc,"posts",c);await eD(m,{likes:d+1}),e(p=>p.map(y=>y.id===c?{...y,likes:d+1}:y)),s(p=>({...p,[c]:!0}))}catch(m){console.error("Error updating likes:",m)}};return ft.jsxs("div",{className:"container text-center mt-4",children:[ft.jsx("h2",{className:"text-white",children:"Recent Reviews"}),ft.jsx(jd,{className:"btn btn-primary mt-3",to:"/new-post",children:"Create New Post"}),ft.jsx("div",{className:"d-flex flex-column align-items-center mt-3",children:r.map(c=>ft.jsx("div",{className:"card bg-dark text-light mb-3 border border-white",style:{width:"100%",maxWidth:"400px"},children:ft.jsxs("div",{className:"card-body",children:[ft.jsxs("h5",{className:"card-place",children:[" ",c.place]}),c.uploadedFileUrl&&ft.jsx("img",{src:c.uploadedFileUrl,alt:"Uploaded",className:"img-fluid mb-3",style:{maxHeight:"200px",objectFit:"cover"}}),ft.jsx("div",{className:"mb-2",children:c.vibes.map((d,m)=>ft.jsx("button",{className:"btn btn-primary btn-sm me-2",children:d},m))}),ft.jsx("p",{className:"card-text",children:ft.jsx("small",{className:"card-text",children:c.date.toLocaleString()})}),ft.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[ft.jsx("button",{className:`btn btn-sm ${i[c.id]?"btn-light":"btn-outline-light"}`,onClick:()=>o(c.id,c.likes),children:" Like"}),ft.jsxs("span",{children:[c.likes," Likes"]})]})]})},c.id))})]})},aD=()=>{const[r,e]=Q.useState(""),i=["Chill","Loud","Dancing","Quiet","Great Drinks","Unique","Young Crowd","Great Ratio"],[s,o]=Q.useState([]),c=Pd(),d=async b=>{b.preventDefault();try{if(!r||!s.length||!p){alert("Please fill out all fields");return}const C=new FormData;C.append("file",p),C.append("upload_preset","wtmwtm");const N=await fetch("https://api.cloudinary.com/v1_1/dyulrifpu/image/upload",{method:"POST",body:C});if(!N.ok)throw new Error("Failed to upload image");const K=(await N.json()).secure_url,j=await V0(Tm(Sc,"posts"),{place:r,vibes:s,uploadedFileUrl:K,createdAt:new Date,likes:0});console.log("Document written with ID: ",j.id),c("/posts")}catch(C){console.error("Error adding document: ",C)}},m=b=>{o(C=>C.includes(b)?C.filter(N=>N!==b):[...C,b])},[p,y]=Q.useState(null),T=b=>{y(b),console.log("File uploaded:",b)};return ft.jsxs("div",{className:"container mt-5",children:[ft.jsx("h1",{className:"text-white",children:"Create a New Post"}),ft.jsxs("form",{children:[ft.jsxs("div",{className:"mb-3",children:[ft.jsx("label",{htmlFor:"place",className:"form-label text-white",children:"Place:"}),ft.jsx("input",{type:"text",id:"place",className:"form-control",value:r,onChange:b=>e(b.target.value),required:!0})]}),ft.jsx("div",{className:"mb-3",children:ft.jsx("div",{className:"mt-3",children:i.map((b,C)=>ft.jsx("button",{type:"button",className:`btn me-3 mb-2 ${s.includes(b)?"btn-primary":"btn-secondary"}`,onClick:()=>m(b),children:b},C))})}),ft.jsxs("div",{className:"mb-3",children:[ft.jsx("label",{htmlFor:"upload",className:"form-label text-white",children:"Upload Image:"}),ft.jsx("input",{type:"file",id:"upload",className:"form-control",onChange:b=>T(b.target.files[0])})]}),ft.jsx("br",{}),ft.jsx("br",{}),ft.jsx("button",{type:"submit",className:"btn btn-primary",onClick:d,children:"Submit"})]})]})};function sD(){return ft.jsx(DS,{basename:"/WhatsTheMove",children:ft.jsxs(rS,{children:[ft.jsx(Xu,{path:"/",element:ft.jsx(iD,{})}),ft.jsx(Xu,{path:"/posts",element:ft.jsx(rD,{})}),ft.jsx(Xu,{path:"/new-post",element:ft.jsx(aD,{})})]})})}const lD=mA.createRoot(document.getElementById("root"));lD.render(ft.jsxs(sA.StrictMode,{children:[ft.jsx(sD,{})," "]}));
